import"./DsnmJJEf.js";import{p as M,j as N,g as m,a as T,u as d,c as D,r as E}from"./D0CSSuTl.js";import{a as j,f as F}from"./Bd1JH_Ov.js";import{p as _,s as q,a as $}from"./zonMEKN6.js";import{S as B}from"./BjFPDMuz.js";import{l as C}from"./DUXNbmIP.js";import{D as h,d as L}from"./CJGyQpNN.js";import{$ as Y}from"./DWQ0JXRY.js";import{v as S,w as A,x as k,y as G,j as H}from"./gegweU97.js";import{n as U,m as Z}from"./msCV69PI.js";function z(t,e,n,o){for(var u=t.length,f=n+-1;++f<u;)if(e(t[f],f,t))return f;return-1}function J(t){return t!==t}function K(t,e,n){for(var o=n-1,u=t.length;++o<u;)if(t[o]===e)return o;return-1}function P(t,e,n){return e===e?K(t,e,n):z(t,J,n)}function Q(t,e){var n=t==null?0:t.length;return!!n&&P(t,e,0)>-1}var V=1/0,W=S&&1/A(new S([,-0]))[1]==V?function(t){return new S(t)}:U,X=200;function y(t,e,n){var o=-1,u=Q,f=t.length,p=!0,i=[],s=i;if(f>=X){var g=e?null:W(t);if(g)return A(g);p=!1,u=G,s=new k}else s=e?[]:i;t:for(;++o<f;){var r=t[o],c=e?e(r):r;if(r=r!==0?r:0,p&&c===c){for(var x=s.length;x--;)if(s[x]===c)continue t;e&&s.push(c),i.push(r)}else u(s,c,n)||(s!==i&&s.push(c),i.push(r))}return i}function tt(t,e){return t&&t.length?y(t,H(e)):[]}var et=F('<div class="mt-2"><!></div>');function mt(t,e){M(e,!0);const n=()=>$(C,"$locale",u),o=()=>$(Y,"$t",u),[u,f]=q();let p=_(e,"createdAt",19,()=>h.now().toISO()),i=_(e,"expiresAt",15);const s=[[30,"minutes"],[1,"hour"],[6,"hours"],[1,"day"],[7,"days"],[30,"days"],[3,"months"],[1,"year"]],g=d(()=>new Intl.RelativeTimeFormat(n())),r=d(()=>[{text:o()("never"),value:0},...s.map(([a,l])=>({text:m(g).format(a,l),value:L.fromObject({[l]:a}).toMillis()})).filter(({value:a})=>h.fromISO(p()).plus(a)>h.now())]),c=(a,l)=>{if(!l)return m(r)[0];const I=h.fromISO(l).diff(h.fromISO(a)).toMillis(),v=Z(m(r),({value:w})=>Math.abs(I-w));return v?Math.abs(v.value-I)>1e4?{text:h.fromMillis(v.value).toRelative({locale:n()}),value:v.value}:v:m(r)[0]},x=a=>{const l=Number(a);i(l===0?null:h.fromISO(p()).plus(l).toISO())};let b=d(()=>c(p(),i()).value);var O=et(),R=D(O);{let a=d(()=>tt([...m(r),c(p(),i())],"value")),l=d(()=>o()("expire_after"));B(R,{onSelect:x,get options(){return m(a)},get label(){return m(l)},number:!0,get value(){return m(b)},set value(I){N(b,I)}})}E(O),j(t,O),T(),f()}export{mt as S};
