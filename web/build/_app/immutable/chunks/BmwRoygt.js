import"./DsnmJJEf.js";import{d as de,o as oe,s as F}from"./C8vxa4mj.js";import{p as ue,t as x,a as me,s as c,c as v,a1 as ce,g as w,r as f,f as ve,b as L,j,h as fe,u as pe}from"./D0CSSuTl.js";import{i as h}from"./D8NIUdeB.js";import{a as m,f as p,c as _e}from"./Bd1JH_Ov.js";import{s as z}from"./CMI33r64.js";import{F as be,G as ge,s as i,r as B,q as xe}from"./D-UYCH9y.js";import{b as D}from"./DU5vAHPb.js";import{p as n,s as he,c as U,a as ye}from"./zonMEKN6.js";import{b as E}from"./0qPXRVhz.js";import{$ as Se}from"./DWQ0JXRY.js";import{q as Te}from"./Tw41aoDi.js";import{P as we}from"./BzOEcAd-.js";var Ee=p('<div class="text-red-400">*</div>'),qe=p('<div class="rounded-full bg-orange-100 px-2 text-[10px] text-orange-900"> </div>'),Ne=p('<p class="immich-form-label pb-2 text-sm"> </p>'),Ae=p('<input class="immich-form-input w-full pb-2 rounded-none me-1" type="text"/>'),Oe=p('<div class="flex place-items-center place-content-center gap-2"><!> <input/> <!></div>'),Re=p('<div class="mb-4 w-full"><div class="flex place-items-center gap-1"><label class="font-medium text-primary text-sm min-h-6"> </label> <!> <!></div> <!> <!></div>');function Ve(V,a){ue(a,!0);const W=()=>ye(Se,"$t",X),[X,H]=he();let o=n(a,"value",15),y=n(a,"min",19,()=>Number.MIN_SAFE_INTEGER),S=n(a,"max",19,()=>Number.MAX_SAFE_INTEGER),M=n(a,"step",3,"1"),l=n(a,"label",3,""),_=n(a,"description",3,""),q=n(a,"title",3,""),b=n(a,"required",3,!1),N=n(a,"disabled",3,!1),J=n(a,"isEdited",3,!1),K=n(a,"autofocus",3,!1),Q=n(a,"passwordAutocomplete",3,"current-password"),g=fe(void 0);const k=t=>{if(o(t.currentTarget.value),a.inputType===E.NUMBER){if(o()===""&&!b()){o(null);return}let e=Number(o())||0;e<y()&&(e=y()),e>S()&&(e=S()),o(e)}};oe(()=>{K()&&ce().then(()=>setTimeout(()=>w(g)?.focus(),0)).catch(t=>{})});var A=Re(),O=v(A),T=v(O),Y=v(T,!0);f(T);var C=c(T,2);{var Z=t=>{var e=Ee();m(t,e)};h(C,t=>{b()&&t(Z)})}var $=c(C,2);{var ee=t=>{var e=qe(),d=v(e,!0);f(e),x(R=>F(d,R),[()=>W()("unsaved_change")]),be(3,e,()=>ge,()=>({x:10,duration:200,easing:Te})),m(t,e)};h($,t=>{J()&&t(ee)})}f(O);var G=c(O,2);{var te=t=>{var e=Ne(),d=v(e,!0);f(e),x(()=>{i(e,"id",`${l()??""}-desc`),F(d,_())}),m(t,e)},ae=t=>{var e=_e(),d=ve(e);z(d,()=>a.descriptionSnippet??L),m(t,e)};h(G,t=>{_()?t(te):t(ae,!1)})}var ie=c(G,2);{var re=t=>{var e=Oe(),d=v(e);{var R=u=>{var s=Ae();B(s),s.__change=k,U(s,I=>j(g,I),()=>w(g)),x((I,ne)=>{i(s,"aria-describedby",_()?`${l()}-desc`:void 0),i(s,"aria-labelledby",`${l()??""}-label`),i(s,"id",l()),i(s,"name",l()),i(s,"min",I),i(s,"max",ne),i(s,"step",M()),s.required=b(),s.disabled=N(),i(s,"title",q())},[()=>y().toString(),()=>S().toString()]),D(s,o),m(u,s)};h(d,u=>{a.inputType===E.COLOR&&u(R)})}var r=c(d,2);B(r);let P;r.__change=k,U(r,u=>j(g,u),()=>w(g));var le=c(r,2);z(le,()=>a.trailingSnippet??L),f(e),x((u,s)=>{P=xe(r,1,"immich-form-input w-full pb-2 min-w-[50px] svelte-13694vx",null,P,{"color-picker":a.inputType===E.COLOR}),i(r,"aria-describedby",_()?`${l()}-desc`:void 0),i(r,"aria-labelledby",`${l()??""}-label`),i(r,"id",l()),i(r,"name",l()),i(r,"type",a.inputType),i(r,"min",u),i(r,"max",s),i(r,"step",M()),r.required=b(),r.disabled=N(),i(r,"title",q())},[()=>y().toString(),()=>S().toString()]),D(r,o),m(t,e)},se=t=>{{let e=pe(()=>_()?`${l()}-desc`:void 0);we(t,{get"aria-describedby"(){return w(e)},get"aria-labelledby"(){return`${l()??""}-label`},size:"small",get id(){return l()},get name(){return l()},get autocomplete(){return Q()},get required(){return b()},get disabled(){return N()},get title(){return q()},get value(){return o()},set value(d){o(d)}})}};h(ie,t=>{a.inputType!==E.PASSWORD?t(re):t(se,!1)})}f(A),x(()=>{i(T,"for",l()),F(Y,l())}),m(V,A),me(),H()}de(["change"]);export{Ve as S};
