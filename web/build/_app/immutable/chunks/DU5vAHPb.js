import{at as q,D as d,a1 as A,W as D,ar as C,au as I,x as V,av as L,ac as P,a4 as k,p as W,a as M,s as x,b as O,c as y,t as j,r as S}from"./D0CSSuTl.js";import"./DsnmJJEf.js";import{s as B}from"./C8vxa4mj.js";import{s as F}from"./CMI33r64.js";import{i as g}from"./D8NIUdeB.js";import{a as m,f as w,t as G}from"./Bd1JH_Ov.js";import{n as H,o as z,h as J,i as K}from"./D-UYCH9y.js";import{r as N}from"./zonMEKN6.js";function ae(e,r,l=r){var o=new WeakSet;q(e,"input",async s=>{var t=s?e.defaultValue:e.value;if(t=b(e)?h(t):t,l(t),d!==null&&o.add(d),await A(),t!==(t=r())){var c=e.selectionStart,v=e.selectionEnd,f=e.value.length;if(e.value=t??"",v!==null){var a=e.value.length;c===v&&v===f&&a>f?(e.selectionStart=a,e.selectionEnd=a):(e.selectionStart=c,e.selectionEnd=Math.min(v,a))}}}),(V&&e.defaultValue!==e.value||D(r)==null&&e.value)&&(l(b(e)?h(e.value):e.value),d!==null&&o.add(d)),C(()=>{var s=r();if(e===document.activeElement){var t=I??d;if(o.has(t))return}b(e)&&s===h(e.value)||e.type==="date"&&!s&&!e.value||s!==e.value&&(e.value=s??"")})}const u=new Set;function re(e,r,l,o,s=o){var t=l.getAttribute("type")==="checkbox",c=e;let v=!1;if(r!==null)for(var f of r)c=c[f]??=[];c.push(l),q(l,"change",()=>{var a=l.__value;t&&(a=E(c,a,l.checked)),s(a)},()=>s(t?[]:null)),C(()=>{var a=o();if(V&&l.defaultChecked!==l.checked){v=!0;return}t?(a=a||[],l.checked=a.includes(l.__value)):l.checked=L(l.__value,a)}),P(()=>{var a=c.indexOf(l);a!==-1&&c.splice(a,1)}),u.has(c)||(u.add(c),k(()=>{c.sort((a,n)=>a.compareDocumentPosition(n)===4?-1:1),u.delete(c)})),k(()=>{if(v){var a;if(t)a=E(c,a,l.checked);else{var n=c.find(i=>i.checked);a=n?.__value}s(a)}})}function E(e,r,l){for(var o=new Set,s=0;s<e.length;s+=1)e[s].checked&&o.add(e[s].__value);return l||o.delete(r),Array.from(o)}function b(e){var r=e.type;return r==="number"||r==="range"}function h(e){return e===""?null:+e}var Q=w('<span aria-hidden="true" class="text-danger">*</span>'),R=w('<div class="inline-block"><label><!> <!></label> <!></div>');function le(e,r){W(r,!0);const l=N(r,["$$slots","$$events","$$legacy","label","size","color","class","children","requiredIndicator"]),o=H({base:"font-medium",variants:{size:z.textSize,color:z.textColor}});var s=R(),t=y(s);J(t,i=>({class:i,...l}),[()=>K(o({size:r.size,color:r.color}),r.class)]);var c=y(t);{var v=i=>{var _=G();j(()=>B(_,r.label)),m(i,_)};g(c,i=>{r.label&&i(v)})}var f=x(c,2);F(f,()=>r.children??O),S(t);var a=x(t,2);{var n=i=>{var _=Q();m(i,_)};g(a,i=>{r.requiredIndicator&&i(n)})}S(s),m(e,s),M()}export{le as L,re as a,ae as b};
