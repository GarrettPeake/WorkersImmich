import{g as A}from"./gvLJu3l0.js";import{i as m,R as D}from"./gegweU97.js";import{S as n,B as o,C as l,D as u,l as x,E as c}from"./DUXNbmIP.js";import{h as y}from"./DLePdI2u.js";import{N as g}from"./BP6NvnZ7.js";import{$ as h}from"./DWQ0JXRY.js";import{d}from"./D0CSSuTl.js";import{b as S}from"./CwqKZNgJ.js";function a(r,t,e,s){return r==null?[]:(m(t)||(t=t==null?[]:[t]),e=e,m(e)||(e=e==null?[]:[e]),S(r,t,e))}const G=async(r,t)=>{try{return await g({createAlbumDto:{albumName:r??"",assetIds:t}})}catch(e){const s=d(h);y(e,s("errors.failed_to_create_album"))}},j=async(r,t)=>{const e=await G(r,t);e&&await A(D.viewAlbum(e))},f=[{id:o.Title,defaultOrder:n.Asc,columnStyle:"text-start w-8/12 sm:w-4/12 md:w-4/12 xl:w-[30%] 2xl:w-[40%]"},{id:o.ItemCount,defaultOrder:n.Desc,columnStyle:"text-center w-4/12 m:w-2/12 md:w-2/12 xl:w-[15%] 2xl:w-[12%]"},{id:o.DateModified,defaultOrder:n.Desc,columnStyle:"text-center hidden sm:block w-3/12 xl:w-[15%] 2xl:w-[12%]"},{id:o.DateCreated,defaultOrder:n.Desc,columnStyle:"text-center hidden sm:block w-3/12 xl:w-[15%] 2xl:w-[12%]"},{id:o.MostRecentPhoto,defaultOrder:n.Desc,columnStyle:"text-center hidden xl:block xl:w-[15%] 2xl:w-[12%]"},{id:o.OldestPhoto,defaultOrder:n.Desc,columnStyle:"text-center hidden xl:block xl:w-[15%] 2xl:w-[12%]"}],v=r=>{const t=f[4];return f.find(({id:e})=>r===e)??t},E=r=>{const t=c.All;return Object.values(c).find(e=>r===c[e])??t},b=[{id:l.None,defaultOrder:n.Asc,isDisabled:()=>!1},{id:l.Year,defaultOrder:n.Desc,isDisabled(){return[o.DateCreated,o.DateModified].includes(d(u).sortBy)}},{id:l.Owner,defaultOrder:n.Asc,isDisabled:()=>!1}],B=r=>{const t=b[0];return b.find(({id:e})=>r===e)??t},I=r=>{const t=l.None,e=r.groupBy??t;return B(e).isDisabled()?t:e},p=r=>{r.collapsedGroups??={};const{collapsedGroups:t,groupBy:e}=r;return t[e]??=[],t[e]},W=(r,t)=>r.groupBy===l.None?!1:p(r).includes(t),Y=r=>{const t=d(u);if(t.groupBy===l.None)return;const e=p(t),s=e.indexOf(r);s===-1?e.push(r):e.splice(s,1),u.set(t)},C=r=>{u.update(t=>{const e=p(t);return e.length=0,e.push(...r),t})},U=()=>{C([])},w=(r,t)=>r.endDate?t.endDate?0:-1:1,M=r=>r==="desc"?n.Desc:n.Asc,O={[o.Title]:(r,t)=>{const e=r===n.Desc?-1:1;return t.slice().sort((s,i)=>s.albumName.localeCompare(i.albumName,d(x))*e)},[o.ItemCount]:(r,t)=>a(t,"assetCount",[r]),[o.DateModified]:(r,t)=>a(t,[({updatedAt:e})=>new Date(e)],[r]),[o.DateCreated]:(r,t)=>a(t,[({createdAt:e})=>new Date(e)],[r]),[o.MostRecentPhoto]:(r,t)=>(t=a(t,[({endDate:e})=>e?new Date(e):""],[r]),t.sort(w)),[o.OldestPhoto]:(r,t)=>(t=a(t,[({startDate:e})=>e?new Date(e):""],[r]),t.sort(w))},V=(r,{sortBy:t,orderBy:e})=>{const s=O[t]??O[o.DateModified],i=M(e);return s(i,r)};export{C as a,v as b,j as c,B as d,U as e,E as f,I as g,b as h,V as i,W as j,M as k,f as s,Y as t};
