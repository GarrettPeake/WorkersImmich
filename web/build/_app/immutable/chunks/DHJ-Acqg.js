import"./DsnmJJEf.js";import{d as Y,a as Z,o as $,s as T}from"./C8vxa4mj.js";import{h as O,aT as f,g as i,p as R,V as tt,f as V,a as F,a0 as et,b as M,t as C,i as rt,c as n,s as P,r as l,n as st,j as at}from"./D0CSSuTl.js";import{i as w}from"./D8NIUdeB.js";import{c as U,a as v,f as j}from"./Bd1JH_Ov.js";import{s as A}from"./CMI33r64.js";import{a as it,F as ot,bP as nt,q as lt,s as ct}from"./D-UYCH9y.js";import{p as g,a as B,s as D,c as ut,d as I}from"./zonMEKN6.js";import{c as dt}from"./CzLdFrfS.js";import{p as L}from"./CG4KAGH3.js";import{g as mt}from"./gvLJu3l0.js";import{h as ht}from"./DUXNbmIP.js";const pt=Symbol();class ft extends URLSearchParams{#t=O(0);#s=gt();#e=!1;#r(){if(!this.#s||this.#e)return;this.#e=!0;const t=this.toString();this.#s.search=t&&`?${t}`,this.#e=!1}[pt](t){if(!this.#e){this.#e=!0;for(const e of[...super.keys()])super.delete(e);for(const[e,o]of t)super.append(e,o);f(this.#t),this.#e=!1}}append(t,e){super.append(t,e),this.#r(),f(this.#t)}delete(t,e){var o=super.has(t,e);super.delete(t,e),o&&(this.#r(),f(this.#t))}get(t){return i(this.#t),super.get(t)}getAll(t){return i(this.#t),super.getAll(t)}has(t,e){return i(this.#t),super.has(t,e)}keys(){return i(this.#t),super.keys()}set(t,e){var o=super.getAll(t).join("");super.set(t,e),o!==super.getAll(t).join("")&&(this.#r(),f(this.#t))}sort(){super.sort(),this.#r(),f(this.#t)}toString(){return i(this.#t),super.toString()}values(){return i(this.#t),super.values()}entries(){return i(this.#t),super.entries()}[Symbol.iterator](){return this.entries()}get size(){return i(this.#t),super.size}}let vt=null;function gt(){return vt}const{get:_t,set:bt}=dt();function Ot(_,t){R(t,!0);const e=()=>B(b(),"$state",o),[o,S]=D(),c=u=>new Set((L.url.searchParams.get(u)||"").split(" ").filter(d=>d!==""));let b=g(t,"state",19,()=>et(c(t.queryParam)));bt(b());const s=new ft(L.url.searchParams);tt(()=>{e().size>0?s.set(t.queryParam,[...e()].join(" ")):s.delete(t.queryParam),ht(mt(`?${s.toString()}`,{replaceState:!0,noScroll:!0,keepFocus:!0}))});var y=U(),k=V(y);A(k,()=>t.children??M),v(_,y),F(),S()}var yt=j('<p class="text-sm dark:text-immich-dark-fg mt-1"> </p>'),kt=j('<ul class="mb-2 ms-4"><!></ul>'),St=j('<div><button type="button" class="flex w-full place-items-center justify-between text-start svelte-1abad14"><div><div class="flex gap-2 place-items-center"><!> <h2 class="font-medium text-primary"> </h2></div> <!></div> <div class="immich-circle-icon-button flex place-content-center place-items-center rounded-full p-3 transition-all hover:bg-immich-primary/10 dark:text-immich-dark-fg hover:dark:bg-immich-dark-primary/20"><svg style="tran" width="20" height="20" fill="none" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" viewBox="0 0 24 24" stroke="currentColor" class="svelte-1abad14"><path d="M19 9l-7 7-7-7"></path></svg></div></button> <!></div>');function Rt(_,t){R(t,!0);const e=()=>B(c,"$accordionState",o),[o,S]=D(),c=_t();let b=g(t,"subtitle",3,""),s=g(t,"isOpen",31,()=>rt(e().has(t.key))),y=g(t,"autoScrollTo",3,!1),k=g(t,"icon",3,""),u=O(void 0);const d=r=>{r?(I(c,e().add(t.key)),y()&&setTimeout(()=>{i(u)?.scrollIntoView({behavior:"smooth",block:"start"})},200)):(e().delete(t.key),I(c,e()))};Z(()=>{d(!1)});const G=()=>{s(!s()),d(s())};$(()=>{d(s())});var m=St(),h=n(m);h.__click=G;var q=n(h),x=n(q),z=n(x);{var H=r=>{it(r,{get icon(){return k()},class:"text-primary",size:"24","aria-hidden":!0})};w(z,r=>{k()&&r(H)})}var E=P(z,2),J=n(E,!0);l(E),l(x);var K=P(x,2);{var N=r=>{var a=U(),p=V(a);A(p,()=>t.subtitleSnippet),v(r,a)},Q=r=>{var a=yt(),p=n(a,!0);l(a),C(()=>T(p,b())),v(r,a)};w(K,r=>{t.subtitleSnippet?r(N):r(Q,!1)})}l(q),st(2),l(h);var W=P(h,2);{var X=r=>{var a=kt(),p=n(a);A(p,()=>t.children??M),l(a),ot(3,a,()=>nt,()=>({duration:150})),v(r,a)};w(W,r=>{s()&&r(X)})}l(m),ut(m,r=>at(u,r),()=>i(u)),C(()=>{lt(m,1,`border-2 rounded-2xl border-primary/20 mt-4 px-6 py-4 transition-all ${s()?"border-primary/60 shadow-md":""}`),ct(h,"aria-expanded",s()),T(J,t.title)}),v(_,m),F(),S()}Y(["click"]);export{Ot as S,Rt as a};
