import"./DsnmJJEf.js";import{p as O,t as A,a as S,g as t,s as x,c as i,u as c,r as a,f as J,j as Q}from"./D0CSSuTl.js";import{s as D,d as K}from"./C8vxa4mj.js";import{a as m,f as _,c as V}from"./Bd1JH_Ov.js";import{i as j}from"./D8NIUdeB.js";import{e as F,i as X}from"./DLePdI2u.js";import{I as G,a as T,bR as E,bS as Y,s as q,q as H,p as Z,a0 as $}from"./D-UYCH9y.js";import{s as ee,a as te}from"./zonMEKN6.js";import{$ as ae}from"./DWQ0JXRY.js";var re=_("<div><!></div>"),ie=_('<li class="flex gap-2 items-center font-mono text-sm text-nowrap text-primary"><!> <a class="underline hover:font-semibold whitespace-pre-wrap"> </a></li>'),ne=_('<nav class="flex items-center py-2"><!> <div class="bg-gray-50 dark:bg-immich-dark-gray/50 w-full p-2 rounded-2xl border border-gray-100 dark:border-gray-900 overflow-y-auto immich-scrollbar"><ol class="flex gap-2 items-center"><li><!></li> <!> <li class="flex gap-2 items-center font-mono text-sm text-nowrap text-primary"><!> <p class="cursor-default whitespace-pre-wrap"> </p></li></ol></div></nav>');function pe(k,e){O(e,!0);const d=()=>te(ae,"$t",n),[n,v]=ee(),o=e.getLink(""),u=c(()=>e.node.parent===null),s=c(()=>e.getLink(e.node.parent?e.node.parent.path:"")),b=c(()=>e.node.parents);var l=ne(),g=i(l);{var w=h=>{var p=re(),z=i(p);{let R=c(()=>d()("to_parent"));G(z,{shape:"round",color:"secondary",variant:"ghost",get icon(){return Y},get"aria-label"(){return t(R)},get href(){return t(s)},class:"me-2"})}a(p),m(h,p)};j(g,h=>{t(s)&&h(w)})}var y=x(g,2),B=i(y),L=i(B),U=i(L);{let h=c(()=>t(u)?"page":void 0);G(U,{shape:"round",color:"secondary",variant:"ghost",get icon(){return e.icon},get href(){return o},get"aria-label"(){return e.title},size:"medium",get"aria-current"(){return t(h)}})}a(L);var r=x(L,2);F(r,16,()=>t(b),h=>h,(h,p)=>{var z=ie(),R=i(z);T(R,{get icon(){return E},class:"text-gray-500 dark:text-gray-300",size:"16","aria-hidden":!0});var W=x(R,2),N=i(W,!0);a(W),a(z),A(P=>{q(W,"href",P),D(N,p.value)},[()=>e.getLink(p.path)]),m(h,z)});var f=x(r,2),C=i(f);T(C,{get icon(){return E},class:"text-gray-500 dark:text-gray-300",size:"16","aria-hidden":!0});var I=x(C,2),M=i(I,!0);a(I),a(f),a(B),a(y),a(l),A(()=>D(M,e.node.value)),m(k,l),S(),v()}var oe=_('<button class="flex flex-col place-items-center gap-2 py-2 px-4 hover:bg-immich-primary/10 dark:hover:bg-immich-primary/40 rounded-xl" type="button"><!> <p class="text-sm dark:text-gray-200 text-nowrap text-ellipsis overflow-clip w-full whitespace-pre-wrap"> </p></button>'),se=_('<div class="w-full grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 2xl:grid-cols-8 gap-2 bg-gray-50 dark:bg-immich-dark-gray/50 rounded-2xl border border-gray-100 dark:border-gray-900"></div>');function Le(k,e){O(e,!0);var d=V(),n=J(d);{var v=o=>{var u=se();F(u,21,()=>e.items,X,(s,b)=>{var l=oe();l.__click=()=>e.onClick(t(b).value);var g=i(l);T(g,{get icon(){return e.icon},class:"text-primary",size:"64"});var w=x(g,2),y=i(w,!0);a(w),a(l),A(()=>{q(l,"title",t(b).value),D(y,t(b).value)}),m(s,l)}),a(u),m(o,u)};j(n,o=>{e.items.length>0&&o(v)})}m(k,d),S()}K(["click"]);var le=_('<button type="button"><!></button>'),ce=_('<a data-sveltekit-keepfocus=""><!> <div><!></div> <span class="text-nowrap overflow-hidden text-ellipsis font-mono ps-1 pt-1 whitespace-pre-wrap"> </span></a> <!>',1);function de(k,e){O(e,!0);const d=c(()=>e.active===e.node.path),n=c(()=>e.active===e.node.path||e.active.startsWith(e.node.value==="/"?"/":`${e.node.path}/`));let v=c(()=>t(n));const o=r=>{r.preventDefault(),Q(v,!t(v))};var u=ce(),s=J(u),b=i(s);{var l=r=>{var f=le();f.__click=o;var C=i(f);{let I=c(()=>t(v)?$:E);T(C,{get icon(){return t(I)},class:"text-gray-400",size:"20"})}a(f),m(r,f)};j(b,r=>{e.node.size>0&&r(l)})}var g=x(b,2),w=i(g);{let r=c(()=>t(n)?e.icons.active:e.icons.default),f=c(()=>t(n)?"text-primary":"text-gray-400");T(w,{get icon(){return t(r)},get class(){return t(f)},get color(){return e.node.color},size:"20"})}a(g);var y=x(g,2),B=i(y,!0);a(y),a(s);var L=x(s,2);{var U=r=>{ge(r,{get tree(){return e.node},get icons(){return e.icons},get active(){return e.active},get getLink(){return e.getLink}})};j(L,r=>{t(v)&&r(U)})}A(r=>{q(s,"href",r),q(s,"title",e.node.value),H(s,1,`flex grow place-items-center ps-2 py-1 text-sm rounded-lg hover:bg-slate-200 dark:hover:bg-slate-800 hover:font-semibold ${t(d)?"bg-slate-100 dark:bg-slate-700 font-semibold text-primary":"dark:text-gray-200"}`),H(g,1,Z(e.node.size===0?"ml-[1.5em] ":"")),D(B,e.node.value)},[()=>e.getLink(e.node.path)]),m(k,u),S()}K(["click"]);var ve=_("<li><!></li>"),ue=_('<ul class="list-none ms-2"></ul>');function ge(k,e){O(e,!0);var d=ue();F(d,21,()=>e.tree.children,n=>n.color?n.path+n.color:n.path,(n,v)=>{var o=ve(),u=i(o);de(u,{get node(){return t(v)},get icons(){return e.icons},get active(){return e.active},get getLink(){return e.getLink}}),a(o),m(n,o)}),a(d),m(k,d),S()}export{pe as B,Le as T,ge as a};
