import"./DsnmJJEf.js";import{p as de,f as s,a as ce,g as t,c as z,b as me,r as I,u as f,s as Se,n as je,t as xe}from"./D0CSSuTl.js";import{p as a,r as _e,b as Ie,e as X}from"./zonMEKN6.js";import{bI as Oe,cg as ie,d7 as Le,bJ as v,h as q,as as pe,d8 as Ne,d9 as Qe,da as Ue,db as Xe,dc as Ze,dd as $e,de as et,df as Re,n as Ve,o as tt,dg as rt,cJ as nt,i as Be,cY as ye,T as ot,p as Te,q as De,F as at,G as st,a as Je,dh as lt,ah as it,I as dt,l as ct}from"./D-UYCH9y.js";import{s as ut}from"./C8vxa4mj.js";import{p as Fe,c as l,a as n,f as G,t as ft}from"./Bd1JH_Ov.js";import{i as O}from"./D8NIUdeB.js";import{e as We}from"./DLePdI2u.js";import{s as T}from"./CMI33r64.js";import{m as vt}from"./BHTYC334.js";var gt=G("<div><!></div>");function qe(C,e){const p=Fe();de(e,!0);let d=a(e,"ref",15,null),m=a(e,"id",19,()=>Oe(p)),g=a(e,"disabled",3,!1),S=a(e,"onSelect",3,ie),M=a(e,"closeOnSelect",3,!0),i=_e(e,["$$slots","$$events","$$legacy","child","children","ref","id","disabled","onSelect","closeOnSelect"]);const _=Le.create({id:v(()=>m()),disabled:v(()=>g()),onSelect:v(()=>S()),ref:v(()=>d(),b=>d(b)),closeOnSelect:v(()=>M())}),h=f(()=>pe(i,_.props));var F=l(),o=s(F);{var c=b=>{var w=l(),H=s(w);T(H,()=>e.child,()=>({props:t(h)})),n(b,w)},A=b=>{var w=gt();q(w,()=>({...t(h)}));var H=z(w);T(H,()=>e.children??me),I(w),n(b,w)};O(o,b=>{e.child?b(c):b(A,!1)})}n(C,F),ce()}var pt=G("<div><!></div>");function Ge(C,e){const p=Fe();de(e,!0);let d=a(e,"ref",15,null),m=a(e,"id",19,()=>Oe(p)),g=_e(e,["$$slots","$$events","$$legacy","ref","id","child","children"]);const S=Ne.create({id:v(()=>m()),ref:v(()=>d(),o=>d(o))}),M=f(()=>pe(g,S.props));var i=l(),_=s(i);{var h=o=>{var c=l(),A=s(c);T(A,()=>e.child,()=>({props:t(M)})),n(o,c)},F=o=>{var c=pt();q(c,()=>({...t(M)}));var A=z(c);T(A,()=>e.children??me),I(c),n(o,c)};O(_,o=>{e.child?o(h):o(F,!1)})}n(C,i),ce()}function mt(C,e){de(e,!0);let p=a(e,"open",15,!1),d=a(e,"dir",3,"ltr"),m=a(e,"onOpenChange",3,ie),g=a(e,"onOpenChangeComplete",3,ie),S=a(e,"_internal_variant",3,"dropdown-menu");const M=Qe.create({variant:v(()=>S()),dir:v(()=>d()),onClose:()=>{p(!1),m()(!1)}});Ue.create({open:v(()=>p(),i=>{p(i),m()(i)}),onOpenChangeComplete:v(()=>g())},M),Xe(C,{children:(i,_)=>{var h=l(),F=s(h);T(F,()=>e.children??me),n(i,h)},$$slots:{default:!0}}),ce()}var _t=G("<div><div><!></div></div>"),ht=G("<div><div><!></div></div>");function bt(C,e){const p=Fe();de(e,!0);let d=a(e,"id",19,()=>Oe(p)),m=a(e,"ref",15,null),g=a(e,"loop",3,!0),S=a(e,"onInteractOutside",3,ie),M=a(e,"onEscapeKeydown",3,ie),i=a(e,"onCloseAutoFocus",3,ie),_=a(e,"forceMount",3,!1),h=a(e,"trapFocus",3,!1),F=_e(e,["$$slots","$$events","$$legacy","id","child","children","ref","loop","onInteractOutside","onEscapeKeydown","onCloseAutoFocus","forceMount","trapFocus","style"]);const o=Ze.create({id:v(()=>d()),loop:v(()=>g()),ref:v(()=>m(),r=>m(r)),onCloseAutoFocus:v(()=>i())}),c=f(()=>pe(F,o.props));function A(r){if(o.handleInteractOutside(r),!r.defaultPrevented&&(S()(r),!r.defaultPrevented)){if(r.target&&r.target instanceof Element){const J=`[${o.parentMenu.root.getBitsAttr("sub-content")}]`;if(r.target.closest(J))return}o.parentMenu.onClose()}}function b(r){M()(r),!r.defaultPrevented&&o.parentMenu.onClose()}var w=l(),H=s(w);{var D=r=>{$e(r,Ie(()=>t(c),()=>o.popperProps,{get ref(){return o.opts.ref},get enabled(){return o.parentMenu.opts.open.current},onInteractOutside:A,onEscapeKeydown:b,get trapFocus(){return h()},get loop(){return g()},forceMount:!0,get id(){return d()},get shouldRender(){return o.shouldRender},popper:(Z,$)=>{let Y=()=>$?.().props,ue=()=>$?.().wrapperProps;const ee=f(()=>pe(Y(),{style:Re("dropdown-menu")},{style:e.style}));var te=l(),re=s(te);{var ne=P=>{var u=l(),R=s(u);{let j=f(()=>({props:t(ee),wrapperProps:ue(),...o.snippetProps}));T(R,()=>e.child,()=>t(j))}n(P,u)},oe=P=>{var u=_t();q(u,()=>({...ue()}));var R=z(u);q(R,()=>({...t(ee)}));var j=z(R);T(j,()=>e.children??me),I(R),I(u),n(P,u)};O(re,P=>{e.child?P(ne):P(oe,!1)})}n(Z,te)},$$slots:{popper:!0}}))},K=r=>{var J=l(),Z=s(J);{var $=Y=>{et(Y,Ie(()=>t(c),()=>o.popperProps,{get ref(){return o.opts.ref},get open(){return o.parentMenu.opts.open.current},onInteractOutside:A,onEscapeKeydown:b,get trapFocus(){return h()},get loop(){return g()},forceMount:!1,get id(){return d()},get shouldRender(){return o.shouldRender},popper:(ee,te)=>{let re=()=>te?.().props,ne=()=>te?.().wrapperProps;const oe=f(()=>pe(re(),{style:Re("dropdown-menu")},{style:e.style}));var P=l(),u=s(P);{var R=W=>{var k=l(),L=s(k);{let fe=f(()=>({props:t(oe),wrapperProps:ne(),...o.snippetProps}));T(L,()=>e.child,()=>t(fe))}n(W,k)},j=W=>{var k=ht();q(k,()=>({...ne()}));var L=z(k);q(L,()=>({...t(oe)}));var fe=z(L);T(fe,()=>e.children??me),I(L),I(k),n(W,k)};O(u,W=>{e.child?W(R):W(j,!1)})}n(ee,P)},$$slots:{popper:!0}}))};O(Z,Y=>{_()||Y($)},!0)}n(r,J)};O(H,r=>{_()?r(D):r(K,!1)})}n(C,w),ce()}var wt=G("<div><!> <!></div>"),Pt=G("<div><!></div>"),yt=G('<!> <div class="flex gap-1 px-1"></div>',1),Ct=G("<div><div><!> <!></div></div>");function Mt(C,e){de(e,!0);let p=a(e,"size",3,"medium"),d=a(e,"position",3,"top-left"),m=_e(e,["$$slots","$$events","$$legacy","onClose","items","bottomItems","size","target","position","class"]);const g=Ve({base:"hover:bg-light-200 flex w-full items-center gap-1 rounded-lg p-1 text-start hover:cursor-pointer",variants:{color:tt.textColor}}),S=Ve({base:"bg-light-100 dark:border-light-300 flex flex-col gap-1 overflow-hidden rounded-xl border py-1 shadow-sm",variants:{size:{tiny:"w-32",small:"w-48",medium:"w-3xs",large:"w-sm",giant:"w-lg",full:"w-full"}}}),M=D=>{switch(D){case"top-left":return{align:"start",side:"bottom"};case"top-right":return{align:"end",side:"bottom"};case"bottom-left":return{align:"start",side:"top"};case"bottom-right":return{align:"end",side:"top"};default:return{align:"start",side:"bottom"}}},i=D=>{if(!D)return[];const K=[];for(const r of D)if(r&&(ye(r)||lt(r))){K.push(r);continue}for(let r=K.length-1;r>=0;r--){const J=K[r];if(ye(J)){K.pop();continue}break}return K},_=f(()=>i(e.items)),h=f(()=>i(e.bottomItems)),F=f(()=>e.target.clientWidth/2),o=f(()=>-e.target.clientHeight/2),c=f(()=>M(d())),A=f(()=>t(c).side),b=f(()=>t(c).align);var w=l(),H=s(w);X(H,()=>mt,(D,K)=>{K(D,{open:!0,onOpenChange:()=>e.onClose(),children:(r,J)=>{var Z=l(),$=s(Z);X($,()=>rt,(Y,ue)=>{ue(Y,{children:(ee,te)=>{var re=l(),ne=s(re);{const oe=(P,u)=>{let R=()=>u?.().wrapperProps,j=()=>u?.().props,W=()=>u?.().open;var k=l(),L=s(k);{var fe=Ce=>{var he=Ct();q(he,()=>({...R(),class:nt.ContextMenu}));var be=z(he);q(be,E=>({...j(),...m,class:E}),[()=>Be(S({size:p()}),e.class)]);var Ae=z(be);We(Ae,19,()=>t(_),(E,y)=>ye(E)?y:E.title,(E,y)=>{var ve=l(),we=s(ve);{var N=V=>{var Q=l(),ge=s(Q);X(ge,()=>Ge,(U,ae)=>{ae(U,{class:"dark:border-light-300 my-0.5 border-t"})}),n(V,Q)},x=V=>{var Q=l(),ge=s(Q);X(ge,()=>qe,(U,ae)=>{ae(U,{get textValue(){return t(y).title},closeOnSelect:!0,onSelect:()=>t(y).onAction(t(y)),class:"px-1",children:(Me,ke)=>{var se=wt(),Pe=z(se);{var Ee=B=>{Je(B,{get icon(){return t(y).icon},class:"m-2 shrink-0"})};O(Pe,B=>{t(y).icon&&B(Ee)})}var le=Se(Pe,2);ot(le,{class:"grow text-start font-medium select-none",size:"medium",children:(B,ze)=>{je();var Ke=ft();xe(()=>ut(Ke,t(y).title)),n(B,Ke)},$$slots:{default:!0}}),I(se),xe(B=>De(se,1,B),[()=>Te(g({color:t(y).color}))]),n(Me,se)},$$slots:{default:!0}})}),n(V,Q)};O(we,V=>{ye(t(y))?V(N):V(x,!1)})}n(E,ve)});var He=Se(Ae,2);{var Ye=E=>{var y=yt(),ve=s(y);X(ve,()=>Ge,(N,x)=>{x(N,{class:"dark:border-light-300 my-0.5 border-t"})});var we=Se(ve,2);We(we,21,()=>t(h),N=>N.title,(N,x)=>{var V=l(),Q=s(V);{var ge=U=>{var ae=l(),Me=s(ae);X(Me,()=>qe,(ke,se)=>{se(ke,{get textValue(){return t(x).title},closeOnSelect:!0,onSelect:()=>t(x).onAction(t(x)),get title(){return t(x).title},children:(Pe,Ee)=>{var le=Pt(),B=z(le);Je(B,{get icon(){return t(x).icon},class:"m-2 shrink-0"}),I(le),xe(ze=>De(le,1,ze),[()=>Te(Be(g({color:t(x).color})))]),n(Pe,le)},$$slots:{default:!0}})}),n(U,ae)};O(Q,U=>{t(x).icon&&U(ge)})}n(N,V)}),I(we),n(E,y)};O(He,E=>{t(h).length>0&&E(Ye)})}I(be),I(he),at(3,be,()=>st),n(Ce,he)};O(L,Ce=>{W()&&Ce(fe)})}n(P,k)};X(ne,()=>bt,(P,u)=>{u(P,{forceMount:!0,get customAnchor(){return e.target},get side(){return t(A)},get align(){return t(b)},get alignOffset(){return t(F)},get sideOffset(){return t(o)},child:oe,$$slots:{child:!0}})})}n(ee,re)},$$slots:{default:!0}})}),n(r,Z)},$$slots:{default:!0}})}),n(C,w),ce()}class St{show(e){return vt.show(Mt,{...e})}}const xt=new St;function Bt(C,e){de(e,!0);const p=a(e,"color",3,"secondary"),d=a(e,"position",3,"top-right"),m=a(e,"icon",3,it),g=a(e,"variant",3,"ghost"),S=a(e,"shape",3,"round"),M=_e(e,["$$slots","$$events","$$legacy","color","position","icon","variant","shape","aria-label","items","bottomItems","translations"]),i=async _=>{await xt.show({target:_.currentTarget,position:d(),items:e.items,bottomItems:e.bottomItems})};{let _=f(()=>e["aria-label"]??ct("open_menu",e.translations));dt(C,Ie({get icon(){return m()},get color(){return p()},get shape(){return S()},get variant(){return g()},get"aria-label"(){return t(_)}},()=>M,{onclick:i}))}ce()}export{Bt as C,xt as m};
