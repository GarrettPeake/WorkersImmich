import"./DsnmJJEf.js";import{p as H,f as b,s as T,a as U,g as o,j as F,u as m,h as j}from"./D0CSSuTl.js";import{a as k,c as z,f as E}from"./Bd1JH_Ov.js";import{i as f}from"./D8NIUdeB.js";import{p as B,s as V,a as q}from"./zonMEKN6.js";import{g as G}from"./CfdSAoAU.js";import{o as P}from"./DUXNbmIP.js";import{n as D,k as Q}from"./BP6NvnZ7.js";import{aw as R,ax as W,I as w,a3 as J,ay as X,az as Y}from"./D-UYCH9y.js";import{$ as K}from"./DWQ0JXRY.js";import{M as L}from"./B2VKg7zy.js";import{t as Z,h as $}from"./DLePdI2u.js";var ee=E("<!> <!>",1);function de(x,s){H(s,!0);const i=()=>q(K,"$t",I),[I,O]=V();let u=B(s,"menuItem",3,!1),l=B(s,"unarchive",3,!1),d=m(()=>l()?i()("unarchive"):i()("to_archive")),v=m(()=>l()?R:W),g=j(!1);const{clearSelect:C,getOwnedAssets:A}=G(),h=async()=>{const e=l()?D.Timeline:D.Archive,a=[...A()].filter(p=>p.visibility!==e);F(g,!0);const r=await P(a,e);r&&(s.onArchive?.(r,e),C()),F(g,!1)};var _=ee(),y=b(_);{var M=e=>{L(e,{get text(){return o(d)},get icon(){return o(v)},onClick:h})};f(y,e=>{u()&&e(M)})}var S=T(y,2);{var t=e=>{var a=z(),r=b(a);{var p=c=>{{let N=m(()=>i()("loading"));w(c,{shape:"round",color:"secondary",variant:"ghost",get"aria-label"(){return o(N)},get icon(){return J},onclick:()=>{}})}},n=c=>{w(c,{shape:"round",color:"secondary",variant:"ghost",get"aria-label"(){return o(d)},get icon(){return o(v)},onclick:h})};f(r,c=>{o(g)?c(p):c(n,!1)})}k(e,a)};f(S,e=>{u()||e(t)})}k(x,_),U(),O()}var te=E("<!> <!>",1);function ge(x,s){H(s,!0);const i=()=>q(K,"$t",I),[I,O]=V();let u=B(s,"menuItem",3,!1),l=m(()=>s.removeFavorite?i()("remove_from_favorites"):i()("to_favorite")),d=m(()=>s.removeFavorite?X:Y),v=j(!1);const{clearSelect:g,getOwnedAssets:C}=G(),A=async()=>{const t=!s.removeFavorite;F(v,!0);try{const e=[...C()].filter(r=>r.isFavorite!==t),a=e.map(({id:r})=>r);a.length>0&&await Q({assetBulkUpdateDto:{ids:a,isFavorite:t}});for(const r of e)r.isFavorite=t;s.onFavorite?.(a,t),Z.success(t?i()("added_to_favorites_count",{values:{count:a.length}}):i()("removed_from_favorites_count",{values:{count:a.length}})),g()}catch(e){$(e,i()("errors.unable_to_add_remove_favorites",{values:{favorite:t}}))}finally{F(v,!1)}};var h=te(),_=b(h);{var y=t=>{L(t,{get text(){return o(l)},get icon(){return o(d)},onClick:A})};f(_,t=>{u()&&t(y)})}var M=T(_,2);{var S=t=>{var e=z(),a=b(e);{var r=n=>{{let c=m(()=>i()("loading"));w(n,{shape:"round",color:"secondary",variant:"ghost",get"aria-label"(){return o(c)},get icon(){return J},onclick:()=>{}})}},p=n=>{w(n,{shape:"round",color:"secondary",variant:"ghost",get"aria-label"(){return o(l)},get icon(){return o(d)},onclick:A})};f(a,n=>{o(v)?n(r):n(p,!1)})}k(t,e)};f(M,t=>{u()||t(S)})}k(x,h),U(),O()}export{de as A,ge as F};
