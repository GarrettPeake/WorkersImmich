import{u as r,g as m,j as h}from"./D0CSSuTl.js";import{T as t}from"./0qPXRVhz.js";import{e as i}from"./BpCm29KX.js";import{P as o}from"./IOA7-Wrn.js";import{t as l}from"./D-UYCH9y.js";const a=()=>globalThis.matchMedia("(prefers-color-scheme: dark)").matches?t.DARK:t.LIGHT;class n{#t=new o("color-theme",{value:a(),system:!1},{valid:e=>Object.values(t).includes(e?.value)});get theme(){return this.#t.current}#s=r(()=>this.theme.value);get value(){return m(this.#s)}set value(e){h(this.#s,e)}#a=r(()=>this.value===t.DARK);get isDark(){return m(this.#a)}set isDark(e){h(this.#a,e)}constructor(){i.on({AppInit:()=>this.#r()})}setSystem(e){this.#e(e?"system":a())}setTheme(e){this.#e(e)}toggleTheme(){this.#e(this.value===t.DARK?t.LIGHT:t.DARK)}#r(){globalThis.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",()=>{this.theme.system&&this.#e("system")},{passive:!0})}#e(e){const s=e==="system"?{system:!0,value:a()}:{system:!1,value:e};document.documentElement.classList.toggle("dark",s.value!==t.LIGHT),this.#t.current=s,l.value=s.value,i.emit("ThemeChange",s)}}const T=new n;export{T as t};
