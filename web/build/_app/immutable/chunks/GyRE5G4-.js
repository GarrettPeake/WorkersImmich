import"./DsnmJJEf.js";import{p as X,i as Y,f as T,g as i,s as x,t as _,u as y,a as Z,c as g,n as $,r as u}from"./D0CSSuTl.js";import{d as tt,s as j}from"./C8vxa4mj.js";import{t as et,a as n,f as m}from"./Bd1JH_Ov.js";import{i as q}from"./D8NIUdeB.js";import{e as at}from"./DLePdI2u.js";import{B as rt,T as it,a as P,q as W,F as st,W as ot,G as lt}from"./D-UYCH9y.js";import{a as nt}from"./IOA7-Wrn.js";import{p as s}from"./zonMEKN6.js";import{c as dt}from"./jZIyHVjf.js";import{i as ct}from"./DDy4N4G7.js";var ft=m("<!> <!>",1),ut=m('<div class="text-primary"><!></div> <p class="justify-self-start text-primary"> </p>',1),mt=m('<div></div> <p class="justify-self-start"> </p>',1),vt=m('<button type="button"><!></button>'),_t=m("<div></div>"),gt=m('<div class="relative"><!> <!></div>');function jt(A,a){X(a,!0);let F=s(a,"position",3,"bottom-left"),G=s(a,"class",3,""),k=s(a,"selectedOption",31,()=>Y(a.options[0])),b=s(a,"showMenu",15,!1),I=s(a,"controlable",3,!1),N=s(a,"hideTextOnSmallScreen",3,!0),H=s(a,"title",3,void 0),J=s(a,"onClickOutside",3,()=>{}),K=s(a,"render",3,String);const z=()=>{I()||b(!1),J()()},L=t=>{a.onSelect(t),k(t),b(!1)},B=t=>{const e=K()(t);return typeof e==="string"?{title:e}:{title:e.title,icon:e.icon,disabled:e.disabled}};let O=y(()=>B(k()));const Q=t=>{switch(t){case"bottom-left":return"start-0";case"bottom-right":return"end-0";default:return""}};var h=gt(),D=g(h);rt(D,{onclick:()=>b(!0),fullWidth:!0,get title(){return H()},variant:"ghost",color:"secondary",size:"small",children:(t,e)=>{var o=ft(),d=T(o);{var l=r=>{P(r,{get icon(){return i(O).icon}})};q(d,r=>{i(O)?.icon&&r(l)})}var w=x(d,2);{let r=y(()=>N()?"hidden sm:block":"");it(w,{get class(){return i(r)},children:(S,E)=>{$();var p=et();_(()=>j(p,i(O).title)),n(S,p)},$$slots:{default:!0}})}n(t,o)},$$slots:{default:!0}});var R=x(D,2);{var U=t=>{var e=_t();at(e,20,()=>a.options,o=>o,(o,d)=>{const l=y(()=>B(d)),w=y(()=>i(l).disabled?"":"transition-all hover:bg-gray-300 dark:hover:bg-gray-800");var r=vt();r.__click=()=>!i(l).disabled&&L(d);var S=g(r);{var E=c=>{var v=ut(),f=T(v),C=g(f);P(C,{get icon(){return ot}}),u(f);var M=x(f,2),V=g(M,!0);u(M),_(()=>j(V,i(l).title)),n(c,v)},p=c=>{var v=mt(),f=x(T(v),2),C=g(f,!0);u(f),_(()=>j(C,i(l).title)),n(c,v)};q(S,c=>{ct(k(),d)?c(E):c(p,!1)})}u(r),_(()=>{W(r,1,`grid grid-cols-[36px_1fr] place-items-center p-2 disabled:opacity-40 ${i(w)??""}`),r.disabled=i(l).disabled}),n(o,r)}),u(e),_(o=>W(e,1,`text-sm font-medium z-1 absolute flex min-w-75 max-h-[70vh] overflow-y-auto immich-scrollbar flex-col rounded-2xl bg-gray-100 py-2 text-black shadow-lg dark:bg-gray-700 dark:text-white ${G()??""} ${o??""}`),[()=>Q(F())]),st(3,e,()=>lt,()=>({y:-30,duration:250})),n(t,e)};q(R,t=>{b()&&t(U)})}u(h),nt(h,(t,e)=>dt?.(t,e),()=>({onOutclick:z,onEscape:z})),n(A,h),Z()}tt(["click"]);export{jt as D};
