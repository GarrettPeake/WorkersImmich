import{r as U,R as M}from"../chunks/gegweU97.js";import{a as F}from"../chunks/CJGyQpNN.js";import{g as N,$ as z}from"../chunks/DWQ0JXRY.js";import{G,n as Y}from"../chunks/BP6NvnZ7.js";import"../chunks/DsnmJJEf.js";import{p as q,f as d,j as H,g as t,a as J,h as K,s as r,u as n}from"../chunks/D0CSSuTl.js";import{a as g,f as _}from"../chunks/Bd1JH_Ov.js";import{i as Q}from"../chunks/D8NIUdeB.js";import{s as W,a as X}from"../chunks/zonMEKN6.js";import{g as Z}from"../chunks/gvLJu3l0.js";import{U as tt}from"../chunks/tK_U6--f.js";import{O as et}from"../chunks/Cq6696VF.js";import{B as ot}from"../chunks/GXf5CvES.js";import{E as rt}from"../chunks/BcC-f0mZ.js";import{C as st,a as at}from"../chunks/DmzJz26a.js";import{D as nt}from"../chunks/DpocfqHG.js";import{D as it}from"../chunks/vBkll8cH.js";import{S as mt}from"../chunks/C9R8P1Xg.js";import{S as lt}from"../chunks/BL72B9yC.js";import{A as ct}from"../chunks/CfdSAoAU.js";import{T as ut}from"../chunks/BaHAZRvh.js";import{A as pt}from"../chunks/0qPXRVhz.js";import"../chunks/CG4KAGH3.js";import"../chunks/DxRnQWdm.js";import"../chunks/DUXNbmIP.js";import{g as ft}from"../chunks/DWYTmzwL.js";import{A as dt}from"../chunks/MMtgDOP-.js";import{ah as gt}from"../chunks/D-UYCH9y.js";const _t=(async({url:i})=>{await F(i);const{isElevated:l,pinCode:s}=await G();return(!l||!s)&&U(307,M.pinPrompt({continue:i.pathname+i.search})),{meta:{title:(await N())("locked_folder")}}}),Kt=Object.freeze(Object.defineProperty({__proto__:null,load:_t},Symbol.toStringTag,{value:"Module"}));var vt=_("<!> <!> <!> <!>",1),$t=_("<!> <!> <!>",1),At=_("<!> <!> <!>",1);function Qt(i,l){q(l,!0);const s=()=>X(z,"$t",v),[v,k]=W();let m=K(void 0);const E={visibility:Y.Locked},e=new dt,L=()=>{if(e.selectionActive){e.clearMultiselect();return}},w=o=>{e.clearMultiselect(),t(m).removeAssets(o)},D=n(()=>ft(s())),T=n(()=>t(D).LockSession),x=async()=>{await Z(M.photos())};var $=At(),A=d($);et(A,{onSessionLocked:x});var h=r(A,2);{let o=n(()=>[t(T)]);tt(h,{get title(){return l.data.meta.title},get actions(){return t(o)},get hideNavbar(){return e.selectionActive},scrollbar:!1,children:(u,P)=>{ut(u,{enableRouting:!0,get options(){return E},get assetInteraction(){return e},onEscape:L,get removeAction(){return pt.SET_VISIBILITY_TIMELINE},get timelineManager(){return t(m)},set timelineManager(a){H(m,a,!0)},empty:a=>{{let c=n(()=>s()("no_locked_photos_message")),f=n(()=>s()("nothing_here_yet"));rt(a,{get text(){return t(c)},get title(){return t(f)},class:"mt-10 mx-auto"})}},$$slots:{empty:!0}})},$$slots:{default:!0}})}var C=r(h,2);{var O=o=>{ct(o,{get assets(){return e.selectedAssets},clearSelect:()=>e.clearMultiselect(),children:(u,P)=>{var p=$t(),a=d(p);mt(a,{withText:!0,get timelineManager(){return t(m)},get assetInteraction(){return e}});var c=r(a,2);lt(c,{unlock:!0,onVisibilitySet:w});var f=r(c,2);{let V=n(()=>s()("menu"));ot(f,{get icon(){return gt},get title(){return t(V)},children:(B,ht)=>{var S=vt(),y=d(S);it(y,{menuItem:!0});var I=r(y,2);st(I,{menuItem:!0});var b=r(I,2);at(b,{menuItem:!0});var j=r(b,2);nt(j,{menuItem:!0,force:!0,onAssetDelete:R=>t(m).removeAssets(R)}),g(B,S)},$$slots:{default:!0}})}g(u,p)},$$slots:{default:!0}})};Q(C,o=>{e.selectionActive&&o(O)})}g(i,$),J(),k()}export{Qt as component,Kt as universal};
