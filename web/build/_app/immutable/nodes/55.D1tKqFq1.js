import{a as ct,u as gt}from"../chunks/CJGyQpNN.js";import{g as mt,$ as ne}from"../chunks/DWQ0JXRY.js";import{i as vt,j as _t,bD as pt,bE as et,bF as Oe,bG as we,bH as De,bI as Qe,bJ as Be,bK as ze,bL as Xe,bM as Te,bN as je,aE as Le,bO as Ae,bP as ft,bQ as bt}from"../chunks/BP6NvnZ7.js";import"../chunks/DsnmJJEf.js";import{p as le,g as e,a as se,s as n,t as ae,u as t,c as o,r as l,h as ue,i as be,j as ie,f as he,n as Ue,b as $t,aB as ht}from"../chunks/D0CSSuTl.js";import{a as k,f as A,t as qe,c as Pe}from"../chunks/Bd1JH_Ov.js";import{i as fe}from"../chunks/D8NIUdeB.js";import{t as at,h as Ge,e as Ve,i as yt}from"../chunks/DLePdI2u.js";import{s as oe,a as te,p as Ee,e as xt}from"../chunks/zonMEKN6.js";import{s as re,e as ve,d as kt}from"../chunks/C8vxa4mj.js";import{es as Et,T as tt,F as ge,B as Ie,c7 as Tt,ad as _e,s as Ce,G as it,a as rt,et as Ct,ag as Lt,I as St,K as nt,f as wt,v as lt,$ as Pt,a9 as Rt,eu as Dt,cE as Mt,ch as At,c_ as Nt,ev as qt,ew as Ot,dy as zt,bW as Ut,ex as Vt,en as Bt,el as Ft,aS as It,ey as Qt,aU as Xt,ez as jt,eA as Ht}from"../chunks/D-UYCH9y.js";import{a as de,S as Wt}from"../chunks/DHJ-Acqg.js";import{S as B}from"../chunks/BmwRoygt.js";import{S as me}from"../chunks/BjFPDMuz.js";import{S as J}from"../chunks/Dm18XTJp.js";import{a as $e,h as Gt,S as Jt,g as Kt}from"../chunks/B0lBVY13.js";import{b as F,Q as Yt}from"../chunks/0qPXRVhz.js";import{F as Re}from"../chunks/DS0yfrVF.js";import{f as ce}from"../chunks/oXVv5nIS.js";import{s as Y}from"../chunks/B0eyFCun.js";import{C as Zt,m as We,M as ea,a as ta}from"../chunks/BHTYC334.js";import{q as st}from"../chunks/Tw41aoDi.js";import{C as aa}from"../chunks/3Su-ePg-.js";import{L as ia}from"../chunks/DU5vAHPb.js";import{i as Fe}from"../chunks/DDy4N4G7.js";import{s as Ne}from"../chunks/LA_Al6qO.js";import{an as ra}from"../chunks/DUXNbmIP.js";import{s as na}from"../chunks/CMI33r64.js";import{A as la}from"../chunks/CaRu5ymf.js";import{S as sa}from"../chunks/C0GZEybY.js";import{C as oa}from"../chunks/CG2BHJh0.js";import{C as da}from"../chunks/cX31cXxY.js";import{A as ua}from"../chunks/B2XNhc0s.js";const ca=(async({url:j})=>{await ct(j,{admin:!0});const N=await vt(),i=await _t(),I=await mt();return{config:N,defaultConfig:i,meta:{title:I("admin.system_settings")}}}),Er=Object.freeze(Object.defineProperty({__proto__:null,load:ca},Symbol.toStringTag,{value:"Module"}));var ga=A('<a href="https://docs.immich.app/administration/server-commands" rel="noreferrer" target="_blank" class="underline"> </a>'),ma=A('<div class="flex flex-col gap-4 text-center"><p> </p> <p><!></p></div>');function va(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe();{const r=a=>{var d=ma(),T=o(d),w=o(T,!0);l(T);var C=n(T,2),D=o(C);Re(D,{key:"admin.authentication_settings_reenable",children:(U,h)=>{let q=()=>h?.().message;var R=ga(),E=o(R,!0);l(R),ae(()=>re(E,q())),k(U,R)},$$slots:{default:!0}}),l(C),l(d),ae(S=>re(w,S),[()=>i()("admin.authentication_settings_disable_all")]),k(a,d)};let s=t(()=>i()("admin.disable_login"));Zt(j,{get title(){return e(s)},get icon(){return Et},size:"small",get onClose(){return N.onClose},prompt:r,$$slots:{prompt:!0}})}se(),H()}var _a=A('<a href="https://docs.immich.app/administration/oauth" class="underline" target="_blank" rel="noreferrer"> </a>'),pa=A('<hr/> <div class="flex items-center gap-2 justify-between"><!> <!></div> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!> <!>',1),fa=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!></div>'),ba=A('<div class="ms-4 mt-4 flex flex-col gap-4"><div class="ms-4 mt-4 flex flex-col"><!></div></div>'),$a=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4 flex flex-col"><!> <!> <!></div></form></div></div>');function ha(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));const d=()=>{!e(a).oauth.mobileOverrideEnabled&&!e(a).oauth.mobileRedirectUri&&(e(a).oauth.mobileRedirectUri=globalThis.location.origin+"/api/oauth/mobile-redirect")},T=async()=>!(!e(a).oauth.enabled&&!e(a).passwordLogin.enabled&&!await We.show(va)),w=async()=>{if(await We.showDialog({icon:Tt,title:i()("admin.unlink_all_oauth_accounts"),prompt:i()("admin.unlink_all_oauth_accounts_prompt"),confirmColor:"danger"}))try{await pt(),at.success()}catch(L){Ge(L,i()("errors.something_went_wrong"))}};var C=$a(),D=o(C),S=o(D),U=o(S),h=o(U);{let E=t(()=>i()("admin.oauth_settings")),L=t(()=>i()("admin.oauth_settings_description"));de(h,{key:"oauth",get title(){return e(E)},get subtitle(){return e(L)},children:(z,y)=>{var c=fa(),f=o(c);tt(f,{size:"small",children:(P,O)=>{Re(P,{key:"admin.oauth_settings_more_details",children:(b,v)=>{let u=()=>v?.().message;var g=_a(),$=o(g,!0);l(g),ae(()=>re($,u())),k(b,g)},$$slots:{default:!0}})},$$slots:{default:!0}});var _=n(f,2);{let P=t(()=>i()("admin.oauth_enable_description"));J(_,{get disabled(){return e(r)},get title(){return e(P)},get checked(){return e(a).oauth.enabled},set checked(O){e(a).oauth.enabled=O}})}var m=n(_,2);{var x=P=>{var O=pa(),V=n(he(O),2),b=o(V);tt(b,{size:"small",children:(W,K)=>{Ue();var G=qe();ae(ee=>re(G,ee),[()=>i()("admin.unlink_all_oauth_accounts_description")]),k(W,G)},$$slots:{default:!0}});var v=n(b,2);Ie(v,{size:"small",onclick:w,children:(W,K)=>{Ue();var G=qe();ae(ee=>re(G,ee),[()=>i()("admin.unlink_all_oauth_accounts")]),k(W,G)},$$slots:{default:!0}}),l(V);var u=n(V,2);{let W=t(()=>e(r)||!e(a).oauth.enabled),K=t(()=>e(a).oauth.issuerUrl!==e(s).oauth.issuerUrl);B(u,{get inputType(){return F.TEXT},label:"ISSUER_URL",required:!0,get disabled(){return e(W)},get isEdited(){return e(K)},get value(){return e(a).oauth.issuerUrl},set value(G){e(a).oauth.issuerUrl=G}})}var g=n(u,2);{let W=t(()=>e(r)||!e(a).oauth.enabled),K=t(()=>e(a).oauth.clientId!==e(s).oauth.clientId);B(g,{get inputType(){return F.TEXT},label:"CLIENT_ID",required:!0,get disabled(){return e(W)},get isEdited(){return e(K)},get value(){return e(a).oauth.clientId},set value(G){e(a).oauth.clientId=G}})}var $=n(g,2);{let W=t(()=>i()("admin.oauth_client_secret_description")),K=t(()=>e(r)||!e(a).oauth.enabled),G=t(()=>e(a).oauth.clientSecret!==e(s).oauth.clientSecret);B($,{get inputType(){return F.TEXT},label:"CLIENT_SECRET",get description(){return e(W)},get disabled(){return e(K)},get isEdited(){return e(G)},get value(){return e(a).oauth.clientSecret},set value(ee){e(a).oauth.clientSecret=ee}})}var p=n($,2);{var M=W=>{{let K=t(()=>e(r)||!e(a).oauth.enabled||!e(a).oauth.clientSecret),G=t(()=>e(a).oauth.tokenEndpointAuthMethod!==e(s).oauth.tokenEndpointAuthMethod),ee=t(()=>[{value:et.ClientSecretPost,text:"client_secret_post"},{value:et.ClientSecretBasic,text:"client_secret_basic"}]);me(W,{label:"TOKEN_ENDPOINT_AUTH_METHOD",get disabled(){return e(K)},get isEdited(){return e(G)},get options(){return e(ee)},name:"tokenEndpointAuthMethod",get value(){return e(a).oauth.tokenEndpointAuthMethod},set value(ke){e(a).oauth.tokenEndpointAuthMethod=ke}})}};fe(p,W=>{e(a).oauth.clientSecret&&W(M)})}var Q=n(p,2);{let W=t(()=>e(r)||!e(a).oauth.enabled),K=t(()=>e(a).oauth.scope!==e(s).oauth.scope);B(Q,{get inputType(){return F.TEXT},label:"SCOPE",required:!0,get disabled(){return e(W)},get isEdited(){return e(K)},get value(){return e(a).oauth.scope},set value(G){e(a).oauth.scope=G}})}var X=n(Q,2);{let W=t(()=>e(r)||!e(a).oauth.enabled),K=t(()=>e(a).oauth.signingAlgorithm!==e(s).oauth.signingAlgorithm);B(X,{get inputType(){return F.TEXT},label:"ID_TOKEN_SIGNED_RESPONSE_ALG",required:!0,get disabled(){return e(W)},get isEdited(){return e(K)},get value(){return e(a).oauth.signingAlgorithm},set value(G){e(a).oauth.signingAlgorithm=G}})}var Z=n(X,2);{let W=t(()=>e(r)||!e(a).oauth.enabled),K=t(()=>e(a).oauth.profileSigningAlgorithm!==e(s).oauth.profileSigningAlgorithm);B(Z,{get inputType(){return F.TEXT},label:"USERINFO_SIGNED_RESPONSE_ALG",required:!0,get disabled(){return e(W)},get isEdited(){return e(K)},get value(){return e(a).oauth.profileSigningAlgorithm},set value(G){e(a).oauth.profileSigningAlgorithm=G}})}var pe=n(Z,2);{let W=t(()=>i()("admin.oauth_timeout")),K=t(()=>i()("admin.oauth_timeout_description")),G=t(()=>e(r)||!e(a).oauth.enabled),ee=t(()=>e(a).oauth.timeout!==e(s).oauth.timeout);B(pe,{get inputType(){return F.NUMBER},get label(){return e(W)},get description(){return e(K)},required:!0,get disabled(){return e(G)},get isEdited(){return e(ee)},get value(){return e(a).oauth.timeout},set value(ke){e(a).oauth.timeout=ke}})}var ye=n(pe,2);{let W=t(()=>i()("admin.oauth_storage_label_claim")),K=t(()=>i()("admin.oauth_storage_label_claim_description")),G=t(()=>e(r)||!e(a).oauth.enabled),ee=t(()=>e(a).oauth.storageLabelClaim!==e(s).oauth.storageLabelClaim);B(ye,{get inputType(){return F.TEXT},get label(){return e(W)},get description(){return e(K)},required:!0,get disabled(){return e(G)},get isEdited(){return e(ee)},get value(){return e(a).oauth.storageLabelClaim},set value(ke){e(a).oauth.storageLabelClaim=ke}})}var xe=n(ye,2);{let W=t(()=>i()("admin.oauth_role_claim")),K=t(()=>i()("admin.oauth_role_claim_description")),G=t(()=>e(r)||!e(a).oauth.enabled),ee=t(()=>e(a).oauth.roleClaim!==e(s).oauth.roleClaim);B(xe,{get inputType(){return F.TEXT},get label(){return e(W)},get description(){return e(K)},required:!0,get disabled(){return e(G)},get isEdited(){return e(ee)},get value(){return e(a).oauth.roleClaim},set value(ke){e(a).oauth.roleClaim=ke}})}var Se=n(xe,2);{let W=t(()=>i()("admin.oauth_storage_quota_claim")),K=t(()=>i()("admin.oauth_storage_quota_claim_description")),G=t(()=>e(r)||!e(a).oauth.enabled),ee=t(()=>e(a).oauth.storageQuotaClaim!==e(s).oauth.storageQuotaClaim);B(Se,{get inputType(){return F.TEXT},get label(){return e(W)},get description(){return e(K)},required:!0,get disabled(){return e(G)},get isEdited(){return e(ee)},get value(){return e(a).oauth.storageQuotaClaim},set value(ke){e(a).oauth.storageQuotaClaim=ke}})}var Me=n(Se,2);{let W=t(()=>i()("admin.oauth_storage_quota_default")),K=t(()=>i()("admin.oauth_storage_quota_default_description")),G=t(()=>e(r)||!e(a).oauth.enabled),ee=t(()=>e(a).oauth.defaultStorageQuota!==e(s).oauth.defaultStorageQuota);B(Me,{get inputType(){return F.NUMBER},get label(){return e(W)},get description(){return e(K)},required:!1,get disabled(){return e(G)},get isEdited(){return e(ee)},get value(){return e(a).oauth.defaultStorageQuota},set value(ke){e(a).oauth.defaultStorageQuota=ke}})}var Je=n(Me,2);{let W=t(()=>i()("admin.oauth_button_text")),K=t(()=>e(r)||!e(a).oauth.enabled),G=t(()=>e(a).oauth.buttonText!==e(s).oauth.buttonText);B(Je,{get inputType(){return F.TEXT},get label(){return e(W)},required:!1,get disabled(){return e(K)},get isEdited(){return e(G)},get value(){return e(a).oauth.buttonText},set value(ee){e(a).oauth.buttonText=ee}})}var Ke=n(Je,2);{let W=t(()=>i()("admin.oauth_auto_register")),K=t(()=>i()("admin.oauth_auto_register_description")),G=t(()=>e(r)||!e(a).oauth.enabled);J(Ke,{get title(){return e(W)},get subtitle(){return e(K)},get disabled(){return e(G)},get checked(){return e(a).oauth.autoRegister},set checked(ee){e(a).oauth.autoRegister=ee}})}var Ye=n(Ke,2);{let W=t(()=>i()("admin.oauth_auto_launch")),K=t(()=>i()("admin.oauth_auto_launch_description")),G=t(()=>e(r)||!e(a).oauth.enabled);J(Ye,{get title(){return e(W)},get subtitle(){return e(K)},get disabled(){return e(G)},get checked(){return e(a).oauth.autoLaunch},set checked(ee){e(a).oauth.autoLaunch=ee}})}var Ze=n(Ye,2);{let W=t(()=>i()("admin.oauth_mobile_redirect_uri_override")),K=t(()=>i()("admin.oauth_mobile_redirect_uri_override_description",{values:{callback:"app.immich:///oauth-callback"}})),G=t(()=>e(r)||!e(a).oauth.enabled);J(Ze,{get title(){return e(W)},get subtitle(){return e(K)},get disabled(){return e(G)},onToggle:()=>d(),get checked(){return e(a).oauth.mobileOverrideEnabled},set checked(ee){e(a).oauth.mobileOverrideEnabled=ee}})}var dt=n(Ze,2);{var ut=W=>{{let K=t(()=>i()("admin.oauth_mobile_redirect_uri")),G=t(()=>e(r)||!e(a).oauth.enabled),ee=t(()=>e(a).oauth.mobileRedirectUri!==e(s).oauth.mobileRedirectUri);B(W,{get inputType(){return F.TEXT},get label(){return e(K)},required:!0,get disabled(){return e(G)},get isEdited(){return e(ee)},get value(){return e(a).oauth.mobileRedirectUri},set value(ke){e(a).oauth.mobileRedirectUri=ke}})}};fe(dt,W=>{e(a).oauth.mobileOverrideEnabled&&W(ut)})}k(P,O)};fe(m,P=>{e(a).oauth.enabled&&P(x)})}l(c),k(z,c)},$$slots:{default:!0}})}var q=n(h,2);{let E=t(()=>i()("admin.password_settings")),L=t(()=>i()("admin.password_settings_description"));de(q,{key:"password",get title(){return e(E)},get subtitle(){return e(L)},children:(z,y)=>{var c=ba(),f=o(c),_=o(f);{let m=t(()=>i()("admin.password_enable_description"));J(_,{get title(){return e(m)},get disabled(){return e(r)},get checked(){return e(a).passwordLogin.enabled},set checked(x){e(a).passwordLogin.enabled=x}})}l(f),l(c),k(z,c)},$$slots:{default:!0}})}var R=n(q,2);$e(R,{keys:["passwordLogin","oauth"],onBeforeSave:T,get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(E){ie(a,E,!0)}}),l(U),l(S),l(D),l(C),ve("submit",S,E=>E.preventDefault()),ge(1,D,()=>_e,()=>({duration:500})),k(j,C),se(),H()}var ya=A('<a class="underline" target="_blank" rel="noreferrer"> <br/></a>'),xa=A('<p class="text-sm dark:text-immich-dark-fg"><!></p>'),ka=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!> <!> <!></div></form></div></div>');function Ea(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue())),d=t(()=>[{text:i()("interval.night_at_midnight"),value:"0 0 * * *"},{text:i()("interval.night_at_twoam"),value:"0 02 * * *"},{text:i()("interval.day_at_onepm"),value:"0 13 * * *"},{text:i()("interval.hours",{values:{hours:6}}),value:"0 */6 * * *"}]);var T=ka(),w=o(T),C=o(w),D=o(C),S=o(D);{let E=t(()=>i()("admin.backup_database_enable_description"));J(S,{get title(){return e(E)},get disabled(){return e(r)},get checked(){return e(a).backup.database.enabled},set checked(L){e(a).backup.database.enabled=L}})}var U=n(S,2);{let E=t(()=>e(r)||!e(a).backup.database.enabled),L=t(()=>i()("admin.cron_expression_presets"));me(U,{get options(){return e(d)},get disabled(){return e(E)},name:"expression",get label(){return e(L)},get value(){return e(a).backup.database.cronExpression},set value(z){e(a).backup.database.cronExpression=z}})}var h=n(U,2);{const E=c=>{var f=xa(),_=o(f);Re(_,{key:"admin.cron_expression_description",children:(x,P)=>{let O=()=>P?.().message;var V=ya(),b=o(V);Ue(),l(V),ae(v=>{Ce(V,"href",`https://crontab.guru/#${v??""}`),re(b,`${O()??""} `)},[()=>e(a).backup.database.cronExpression.replaceAll(" ","_")]),k(x,V)},$$slots:{default:!0}}),l(f),k(c,f)};let L=t(()=>e(r)||!e(a).backup.database.enabled),z=t(()=>i()("admin.cron_expression")),y=t(()=>e(a).backup.database.cronExpression!==e(s).backup.database.cronExpression);B(h,{get inputType(){return F.TEXT},required:!0,get disabled(){return e(L)},get label(){return e(z)},get isEdited(){return e(y)},get value(){return e(a).backup.database.cronExpression},set value(c){e(a).backup.database.cronExpression=c},descriptionSnippet:E,$$slots:{descriptionSnippet:!0}})}var q=n(h,2);{let E=t(()=>i()("admin.backup_keep_last_amount")),L=t(()=>e(r)||!e(a).backup.database.enabled),z=t(()=>e(a).backup.database.keepLastAmount!==e(s).backup.database.keepLastAmount);B(q,{get inputType(){return F.NUMBER},required:!0,get label(){return e(E)},get disabled(){return e(L)},get isEdited(){return e(z)},get value(){return e(a).backup.database.keepLastAmount},set value(y){e(a).backup.database.keepLastAmount=y}})}var R=n(q,2);$e(R,{get disabled(){return e(r)},keys:["backup"],get configToEdit(){return e(a)},set configToEdit(E){ie(a,E,!0)}}),l(D),l(C),l(w),l(T),ve("submit",C,E=>E.preventDefault()),ge(1,w,()=>_e,()=>({duration:500})),k(j,T),se(),H()}var Ta=A('<div class="rounded-full bg-orange-100 px-2 text-[10px] text-orange-900"> </div>'),Ca=A('<p class="immich-form-label pb-2 text-sm"> </p>'),La=A('<div class="flex gap-2 items-center"><!> <!></div>'),Sa=A('<div class="mb-4 w-full"><div class="flex h-6.5 place-items-center gap-1"><label class="font-medium text-primary text-sm"> </label> <!></div> <!> <div class="flex flex-col gap-2"></div></div>');function He(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe();let r=Ee(N,"value",15),s=Ee(N,"label",3,""),a=Ee(N,"desc",3,""),d=Ee(N,"name",3,""),T=Ee(N,"isEdited",3,!1),w=Ee(N,"disabled",3,!1);function C(y){r(r().includes(y)?r().filter(c=>c!==y):[...r(),y])}var D=Sa(),S=o(D),U=o(S),h=o(U,!0);l(U);var q=n(U,2);{var R=y=>{var c=Ta(),f=o(c,!0);l(c),ae(_=>re(f,_),[()=>i()("unsaved_change")]),ge(3,c,()=>it,()=>({x:10,duration:200,easing:st})),k(y,c)};fe(q,y=>{T()&&y(R)})}l(S);var E=n(S,2);{var L=y=>{var c=Ca(),f=o(c,!0);l(c),ae(()=>{Ce(c,"id",`${d()??""}-desc`),re(f,a())}),k(y,c)};fe(E,y=>{a()&&y(L)})}var z=n(E,2);Ve(z,21,()=>N.options,y=>y.value,(y,c)=>{var f=La(),_=o(f);{let x=t(()=>r().includes(e(c).value));aa(_,{size:"tiny",get id(){return`${e(c).value??""}-checkbox`},get checked(){return e(x)},get disabled(){return w()},onCheckedChange:()=>C(e(c).value)})}var m=n(_,2);ia(m,{get label(){return e(c).text},get for(){return`${e(c).value??""}-checkbox`},size:"small"}),l(f),k(y,f)}),l(z),l(D),ae(()=>{Ce(U,"for",`${d()??""}-select`),re(h,s())}),k(j,D),se(),H()}var wa=A('<a href="https://trac.ffmpeg.org/wiki/Encode/H.264" class="underline" target="_blank" rel="noreferrer"> </a>'),Pa=A('<a href="https://trac.ffmpeg.org/wiki/Encode/H.265" class="underline" target="_blank" rel="noreferrer"> </a>'),Ra=A('<a href="https://trac.ffmpeg.org/wiki/Encode/VP9" class="underline" target="_blank" rel="noreferrer"> </a>'),Da=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!> <!></div>'),Ma=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!> <!> <!> <!> <!> <!> <!></div>'),Aa=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!> <!> <!></div>'),Na=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!></div>'),qa=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4 flex flex-col gap-4"><p class="text-sm dark:text-immich-dark-fg"><!> <!></p> <!> <!> <!> <!></div> <div class="ms-4"><!></div></form></div></div>');function Oa(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=qa(),T=o(d),w=o(T),C=o(w),D=o(C),S=o(D);rt(S,{get icon(){return Ct},class:"inline",size:"15"});var U=n(S,2);Re(U,{key:"admin.transcoding_codecs_learn_more",children:(c,f)=>{let _=()=>f?.().tag,m=()=>f?.().message;var x=Pe(),P=he(x);{var O=b=>{var v=wa(),u=o(v,!0);l(v),ae(()=>re(u,m())),k(b,v)},V=b=>{var v=Pe(),u=he(v);{var g=p=>{var M=Pa(),Q=o(M,!0);l(M),ae(()=>re(Q,m())),k(p,M)},$=p=>{var M=Pe(),Q=he(M);{var X=Z=>{var pe=Ra(),ye=o(pe,!0);l(pe),ae(()=>re(ye,m())),k(Z,pe)};fe(Q,Z=>{_()==="vp9-link"&&Z(X)},!0)}k(p,M)};fe(u,p=>{_()==="hevc-link"?p(g):p($,!1)},!0)}k(b,v)};fe(P,b=>{_()==="h264-link"?b(O):b(V,!1)})}k(c,x)},$$slots:{default:!0}}),l(D);var h=n(D,2);{let y=t(()=>i()("admin.transcoding_policy")),c=t(()=>i()("admin.transcoding_policy_description"));de(h,{key:"transcoding-policy",get title(){return e(y)},get subtitle(){return e(c)},children:(f,_)=>{var m=Da(),x=o(m);{let b=t(()=>i()("admin.transcoding_transcode_policy")),v=t(()=>i()("admin.transcoding_transcode_policy_description")),u=t(()=>[{value:Oe.All,text:i()("all_videos")},{value:Oe.Optimal,text:i()("admin.transcoding_optimal_description")},{value:Oe.Bitrate,text:i()("admin.transcoding_bitrate_description")},{value:Oe.Required,text:i()("admin.transcoding_required_description")},{value:Oe.Disabled,text:i()("admin.transcoding_disabled_description")}]),g=t(()=>e(a).ffmpeg.transcode!==e(s).ffmpeg.transcode);me(x,{get label(){return e(b)},get disabled(){return e(r)},get desc(){return e(v)},name:"transcode",get options(){return e(u)},get isEdited(){return e(g)},get value(){return e(a).ffmpeg.transcode},set value($){e(a).ffmpeg.transcode=$}})}var P=n(x,2);{let b=t(()=>i()("admin.transcoding_accepted_video_codecs")),v=t(()=>i()("admin.transcoding_accepted_video_codecs_description")),u=t(()=>[{value:we.H264,text:"H.264"},{value:we.Hevc,text:"HEVC"},{value:we.Vp9,text:"VP9"},{value:we.Av1,text:"AV1"}]),g=t(()=>!Fe(Ne(e(a).ffmpeg.acceptedVideoCodecs),Ne(e(s).ffmpeg.acceptedVideoCodecs)));He(P,{get label(){return e(b)},get disabled(){return e(r)},get desc(){return e(v)},name:"videoCodecs",get options(){return e(u)},get isEdited(){return e(g)},get value(){return e(a).ffmpeg.acceptedVideoCodecs},set value($){e(a).ffmpeg.acceptedVideoCodecs=$}})}var O=n(P,2);{let b=t(()=>i()("admin.transcoding_accepted_audio_codecs")),v=t(()=>i()("admin.transcoding_accepted_audio_codecs_description")),u=t(()=>[{value:De.Aac,text:"AAC"},{value:De.Mp3,text:"MP3"},{value:De.Libopus,text:"Opus"},{value:De.PcmS16Le,text:"PCM (16 bit)"}]),g=t(()=>!Fe(Ne(e(a).ffmpeg.acceptedAudioCodecs),Ne(e(s).ffmpeg.acceptedAudioCodecs)));He(O,{get label(){return e(b)},get disabled(){return e(r)},get desc(){return e(v)},name:"audioCodecs",get options(){return e(u)},get isEdited(){return e(g)},get value(){return e(a).ffmpeg.acceptedAudioCodecs},set value($){e(a).ffmpeg.acceptedAudioCodecs=$}})}var V=n(O,2);{let b=t(()=>i()("admin.transcoding_accepted_containers")),v=t(()=>i()("admin.transcoding_accepted_containers_description")),u=t(()=>[{value:Qe.Mov,text:"MOV"},{value:Qe.Ogg,text:"Ogg"},{value:Qe.Webm,text:"WebM"}]),g=t(()=>!Fe(Ne(e(a).ffmpeg.acceptedContainers),Ne(e(s).ffmpeg.acceptedContainers)));He(V,{get label(){return e(b)},get disabled(){return e(r)},get desc(){return e(v)},name:"videoContainers",get options(){return e(u)},get isEdited(){return e(g)},get value(){return e(a).ffmpeg.acceptedContainers},set value($){e(a).ffmpeg.acceptedContainers=$}})}l(m),k(f,m)},$$slots:{default:!0}})}var q=n(h,2);{let y=t(()=>i()("admin.transcoding_encoding_options")),c=t(()=>i()("admin.transcoding_encoding_options_description"));de(q,{key:"encoding-options",get title(){return e(y)},get subtitle(){return e(c)},children:(f,_)=>{var m=Ma(),x=o(m);{let p=t(()=>i()("admin.transcoding_video_codec")),M=t(()=>i()("admin.transcoding_video_codec_description")),Q=t(()=>[{value:we.H264,text:"h264"},{value:we.Hevc,text:"hevc"},{value:we.Vp9,text:"vp9"},{value:we.Av1,text:"av1"}]),X=t(()=>e(a).ffmpeg.targetVideoCodec!==e(s).ffmpeg.targetVideoCodec);me(x,{get label(){return e(p)},get disabled(){return e(r)},get desc(){return e(M)},get options(){return e(Q)},name:"vcodec",get isEdited(){return e(X)},onSelect:()=>e(a).ffmpeg.acceptedVideoCodecs=[e(a).ffmpeg.targetVideoCodec],get value(){return e(a).ffmpeg.targetVideoCodec},set value(Z){e(a).ffmpeg.targetVideoCodec=Z}})}var P=n(x,2);{let p=t(()=>i()("admin.transcoding_audio_codec")),M=t(()=>i()("admin.transcoding_audio_codec_description")),Q=t(()=>[{value:De.Aac,text:"aac"},{value:De.Mp3,text:"mp3"},{value:De.Libopus,text:"opus"}]),X=t(()=>e(a).ffmpeg.targetAudioCodec!==e(s).ffmpeg.targetAudioCodec);me(P,{get label(){return e(p)},get disabled(){return e(r)},get desc(){return e(M)},get options(){return e(Q)},name:"acodec",get isEdited(){return e(X)},onSelect:()=>e(a).ffmpeg.acceptedAudioCodecs.includes(e(a).ffmpeg.targetAudioCodec)?null:e(a).ffmpeg.acceptedAudioCodecs.push(e(a).ffmpeg.targetAudioCodec),get value(){return e(a).ffmpeg.targetAudioCodec},set value(Z){e(a).ffmpeg.targetAudioCodec=Z}})}var O=n(P,2);{let p=t(()=>i()("admin.transcoding_target_resolution")),M=t(()=>i()("admin.transcoding_target_resolution_description")),Q=t(()=>[{value:"2160",text:"4k"},{value:"1440",text:"1440p"},{value:"1080",text:"1080p"},{value:"720",text:"720p"},{value:"480",text:"480p"},{value:"original",text:i()("original")}]),X=t(()=>e(a).ffmpeg.targetResolution!==e(s).ffmpeg.targetResolution);me(O,{get label(){return e(p)},get disabled(){return e(r)},get desc(){return e(M)},get options(){return e(Q)},name:"resolution",get isEdited(){return e(X)},get value(){return e(a).ffmpeg.targetResolution},set value(Z){e(a).ffmpeg.targetResolution=Z}})}var V=n(O,2);{let p=t(()=>i()("admin.transcoding_constant_rate_factor")),M=t(()=>i()("admin.transcoding_constant_rate_factor_description")),Q=t(()=>e(a).ffmpeg.crf!==e(s).ffmpeg.crf);B(V,{get inputType(){return F.NUMBER},get disabled(){return e(r)},get label(){return e(p)},get description(){return e(M)},required:!0,get isEdited(){return e(Q)},get value(){return e(a).ffmpeg.crf},set value(X){e(a).ffmpeg.crf=X}})}var b=n(V,2);{let p=t(()=>i()("admin.transcoding_preset_preset")),M=t(()=>i()("admin.transcoding_preset_preset_description")),Q=t(()=>e(a).ffmpeg.preset!==e(s).ffmpeg.preset);me(b,{get label(){return e(p)},get disabled(){return e(r)},get desc(){return e(M)},name:"preset",options:[{value:"ultrafast",text:"ultrafast"},{value:"superfast",text:"superfast"},{value:"veryfast",text:"veryfast"},{value:"faster",text:"faster"},{value:"fast",text:"fast"},{value:"medium",text:"medium"},{value:"slow",text:"slow"},{value:"slower",text:"slower"},{value:"veryslow",text:"veryslow"}],get isEdited(){return e(Q)},get value(){return e(a).ffmpeg.preset},set value(X){e(a).ffmpeg.preset=X}})}var v=n(b,2);{let p=t(()=>i()("admin.transcoding_max_bitrate")),M=t(()=>i()("admin.transcoding_max_bitrate_description")),Q=t(()=>e(a).ffmpeg.maxBitrate!==e(s).ffmpeg.maxBitrate);B(v,{get inputType(){return F.TEXT},get disabled(){return e(r)},get label(){return e(p)},get description(){return e(M)},get isEdited(){return e(Q)},get value(){return e(a).ffmpeg.maxBitrate},set value(X){e(a).ffmpeg.maxBitrate=X}})}var u=n(v,2);{let p=t(()=>i()("admin.transcoding_threads")),M=t(()=>i()("admin.transcoding_threads_description")),Q=t(()=>e(a).ffmpeg.threads!==e(s).ffmpeg.threads);B(u,{get inputType(){return F.NUMBER},get disabled(){return e(r)},get label(){return e(p)},get description(){return e(M)},get isEdited(){return e(Q)},get value(){return e(a).ffmpeg.threads},set value(X){e(a).ffmpeg.threads=X}})}var g=n(u,2);{let p=t(()=>i()("admin.transcoding_tone_mapping")),M=t(()=>i()("admin.transcoding_tone_mapping_description")),Q=t(()=>[{value:Be.Hable,text:"Hable"},{value:Be.Mobius,text:"Mobius"},{value:Be.Reinhard,text:"Reinhard"},{value:Be.Disabled,text:i()("disabled")}]),X=t(()=>e(a).ffmpeg.tonemap!==e(s).ffmpeg.tonemap);me(g,{get label(){return e(p)},get disabled(){return e(r)},get desc(){return e(M)},name:"tonemap",get options(){return e(Q)},get isEdited(){return e(X)},get value(){return e(a).ffmpeg.tonemap},set value(Z){e(a).ffmpeg.tonemap=Z}})}var $=n(g,2);{let p=t(()=>i()("admin.transcoding_two_pass_encoding")),M=t(()=>i()("admin.transcoding_two_pass_encoding_setting_description")),Q=t(()=>e(a).ffmpeg.twoPass!==e(s).ffmpeg.twoPass);J($,{get title(){return e(p)},get disabled(){return e(r)},get subtitle(){return e(M)},get isEdited(){return e(Q)},get checked(){return e(a).ffmpeg.twoPass},set checked(X){e(a).ffmpeg.twoPass=X}})}l(m),k(f,m)},$$slots:{default:!0}})}var R=n(q,2);{let y=t(()=>i()("admin.transcoding_hardware_acceleration")),c=t(()=>i()("admin.transcoding_hardware_acceleration_description"));de(R,{key:"hardware-acceleration",get title(){return e(y)},get subtitle(){return e(c)},children:(f,_)=>{var m=Aa(),x=o(m);{let v=t(()=>i()("admin.transcoding_acceleration_api")),u=t(()=>i()("admin.transcoding_acceleration_api_description")),g=t(()=>[{value:ze.Nvenc,text:i()("admin.transcoding_acceleration_nvenc")},{value:ze.Qsv,text:i()("admin.transcoding_acceleration_qsv")},{value:ze.Vaapi,text:i()("admin.transcoding_acceleration_vaapi")},{value:ze.Rkmpp,text:i()("admin.transcoding_acceleration_rkmpp")},{value:ze.Disabled,text:i()("disabled")}]),$=t(()=>e(a).ffmpeg.accel!==e(s).ffmpeg.accel);me(x,{get label(){return e(v)},get disabled(){return e(r)},get desc(){return e(u)},name:"accel",get options(){return e(g)},get isEdited(){return e($)},get value(){return e(a).ffmpeg.accel},set value(p){e(a).ffmpeg.accel=p}})}var P=n(x,2);{let v=t(()=>i()("admin.transcoding_hardware_decoding")),u=t(()=>i()("admin.transcoding_hardware_decoding_setting_description")),g=t(()=>e(a).ffmpeg.accelDecode!==e(s).ffmpeg.accelDecode);J(P,{get title(){return e(v)},get disabled(){return e(r)},get subtitle(){return e(u)},get isEdited(){return e(g)},get checked(){return e(a).ffmpeg.accelDecode},set checked($){e(a).ffmpeg.accelDecode=$}})}var O=n(P,2);{let v=t(()=>i()("admin.transcoding_constant_quality_mode")),u=t(()=>i()("admin.transcoding_constant_quality_mode_description")),g=t(()=>[{value:Xe.Auto,text:"Auto"},{value:Xe.Icq,text:"ICQ"},{value:Xe.Cqp,text:"CQP"}]),$=t(()=>e(a).ffmpeg.cqMode!==e(s).ffmpeg.cqMode);me(O,{get label(){return e(v)},get desc(){return e(u)},get options(){return e(g)},get isEdited(){return e($)},get disabled(){return e(r)},get value(){return e(a).ffmpeg.cqMode},set value(p){e(a).ffmpeg.cqMode=p}})}var V=n(O,2);{let v=t(()=>i()("admin.transcoding_temporal_aq")),u=t(()=>i()("admin.transcoding_temporal_aq_description")),g=t(()=>e(a).ffmpeg.temporalAQ!==e(s).ffmpeg.temporalAQ);J(V,{get title(){return e(v)},get disabled(){return e(r)},get subtitle(){return e(u)},get isEdited(){return e(g)},get checked(){return e(a).ffmpeg.temporalAQ},set checked($){e(a).ffmpeg.temporalAQ=$}})}var b=n(V,2);{let v=t(()=>i()("admin.transcoding_preferred_hardware_device")),u=t(()=>i()("admin.transcoding_preferred_hardware_device_description")),g=t(()=>e(a).ffmpeg.preferredHwDevice!==e(s).ffmpeg.preferredHwDevice);B(b,{get inputType(){return F.TEXT},get label(){return e(v)},get description(){return e(u)},get isEdited(){return e(g)},get disabled(){return e(r)},get value(){return e(a).ffmpeg.preferredHwDevice},set value($){e(a).ffmpeg.preferredHwDevice=$}})}l(m),k(f,m)},$$slots:{default:!0}})}var E=n(R,2);{let y=t(()=>i()("advanced")),c=t(()=>i()("admin.transcoding_advanced_options_description"));de(E,{key:"advanced-options",get title(){return e(y)},get subtitle(){return e(c)},children:(f,_)=>{var m=Na(),x=o(m);{let V=t(()=>i()("admin.transcoding_max_b_frames")),b=t(()=>i()("admin.transcoding_max_b_frames_description")),v=t(()=>e(a).ffmpeg.bframes!==e(s).ffmpeg.bframes);B(x,{get inputType(){return F.NUMBER},get label(){return e(V)},get description(){return e(b)},get isEdited(){return e(v)},get disabled(){return e(r)},get value(){return e(a).ffmpeg.bframes},set value(u){e(a).ffmpeg.bframes=u}})}var P=n(x,2);{let V=t(()=>i()("admin.transcoding_reference_frames")),b=t(()=>i()("admin.transcoding_reference_frames_description")),v=t(()=>e(a).ffmpeg.refs!==e(s).ffmpeg.refs);B(P,{get inputType(){return F.NUMBER},get label(){return e(V)},get description(){return e(b)},get isEdited(){return e(v)},get disabled(){return e(r)},get value(){return e(a).ffmpeg.refs},set value(u){e(a).ffmpeg.refs=u}})}var O=n(P,2);{let V=t(()=>i()("admin.transcoding_max_keyframe_interval")),b=t(()=>i()("admin.transcoding_max_keyframe_interval_description")),v=t(()=>e(a).ffmpeg.gopSize!==e(s).ffmpeg.gopSize);B(O,{get inputType(){return F.NUMBER},get label(){return e(V)},get description(){return e(b)},get isEdited(){return e(v)},get disabled(){return e(r)},get value(){return e(a).ffmpeg.gopSize},set value(u){e(a).ffmpeg.gopSize=u}})}l(m),k(f,m)},$$slots:{default:!0}})}l(C);var L=n(C,2),z=o(L);$e(z,{keys:["ffmpeg"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(y){ie(a,y,!0)}}),l(L),l(w),l(T),l(d),ve("submit",w,y=>y.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var za=A("<!> <!> <!> <!>",1),Ua=A("<!> <!> <!> <!>",1),Va=A('<!> <hr class="my-4"/> <!> <!> <!>',1),Ba=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4"><!> <!> <!> <div class="mt-4"><!></div> <div class="mt-4"><!></div></div> <div class="ms-4 mt-4"><!></div></form></div></div>');function Fa(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=Ba(),T=o(d),w=o(T),C=o(w),D=o(C);{let y=t(()=>i()("admin.image_thumbnail_title")),c=t(()=>i()("admin.image_thumbnail_description"));de(D,{key:"thumbnail-settings",get title(){return e(y)},get subtitle(){return e(c)},children:(f,_)=>{var m=za(),x=he(m);{let b=t(()=>i()("admin.image_format")),v=t(()=>i()("admin.image_format_description")),u=t(()=>[{value:Te.Jpeg,text:"JPEG"},{value:Te.Webp,text:"WebP"}]),g=t(()=>e(a).image.thumbnail.format!==e(s).image.thumbnail.format);me(x,{get label(){return e(b)},get desc(){return e(v)},get options(){return e(u)},name:"format",get isEdited(){return e(g)},get disabled(){return e(r)},onSelect:$=>{$===Te.Webp&&(e(a).image.thumbnail.progressive=!1)},get value(){return e(a).image.thumbnail.format},set value($){e(a).image.thumbnail.format=$}})}var P=n(x,2);{let b=t(()=>i()("admin.image_resolution")),v=t(()=>i()("admin.image_resolution_description")),u=t(()=>e(a).image.thumbnail.size!==e(s).image.thumbnail.size);me(P,{get label(){return e(b)},get desc(){return e(v)},number:!0,options:[{value:1080,text:"1080p"},{value:720,text:"720p"},{value:480,text:"480p"},{value:250,text:"250p"},{value:200,text:"200p"}],name:"resolution",get isEdited(){return e(u)},get disabled(){return e(r)},get value(){return e(a).image.thumbnail.size},set value(g){e(a).image.thumbnail.size=g}})}var O=n(P,2);{let b=t(()=>i()("admin.image_quality")),v=t(()=>i()("admin.image_thumbnail_quality_description")),u=t(()=>e(a).image.thumbnail.quality!==e(s).image.thumbnail.quality);B(O,{get inputType(){return F.NUMBER},get label(){return e(b)},get description(){return e(v)},get isEdited(){return e(u)},get disabled(){return e(r)},get value(){return e(a).image.thumbnail.quality},set value(g){e(a).image.thumbnail.quality=g}})}var V=n(O,2);{let b=t(()=>i()("admin.image_progressive")),v=t(()=>i()("admin.image_progressive_description")),u=t(()=>e(a).image.thumbnail.progressive!==e(s).image.thumbnail.progressive),g=t(()=>e(r)||e(a).image.thumbnail.format===Te.Webp);J(V,{get title(){return e(b)},get subtitle(){return e(v)},get checked(){return e(a).image.thumbnail.progressive},onToggle:$=>e(a).image.thumbnail.progressive=$,get isEdited(){return e(u)},get disabled(){return e(g)}})}k(f,m)},$$slots:{default:!0}})}var S=n(D,2);{let y=t(()=>i()("admin.image_preview_title")),c=t(()=>i()("admin.image_preview_description"));de(S,{key:"preview-settings",get title(){return e(y)},get subtitle(){return e(c)},children:(f,_)=>{var m=Ua(),x=he(m);{let b=t(()=>i()("admin.image_format")),v=t(()=>i()("admin.image_format_description")),u=t(()=>[{value:Te.Jpeg,text:"JPEG"},{value:Te.Webp,text:"WebP"}]),g=t(()=>e(a).image.preview.format!==e(s).image.preview.format);me(x,{get label(){return e(b)},get desc(){return e(v)},get options(){return e(u)},name:"format",get isEdited(){return e(g)},get disabled(){return e(r)},onSelect:$=>{$===Te.Webp&&(e(a).image.preview.progressive=!1)},get value(){return e(a).image.preview.format},set value($){e(a).image.preview.format=$}})}var P=n(x,2);{let b=t(()=>i()("admin.image_resolution")),v=t(()=>i()("admin.image_resolution_description")),u=t(()=>e(a).image.preview.size!==e(s).image.preview.size);me(P,{get label(){return e(b)},get desc(){return e(v)},number:!0,options:[{value:2160,text:"4K"},{value:1440,text:"1440p"},{value:1080,text:"1080p"},{value:720,text:"720p"}],name:"resolution",get isEdited(){return e(u)},get disabled(){return e(r)},get value(){return e(a).image.preview.size},set value(g){e(a).image.preview.size=g}})}var O=n(P,2);{let b=t(()=>i()("admin.image_quality")),v=t(()=>i()("admin.image_preview_quality_description")),u=t(()=>e(a).image.preview.quality!==e(s).image.preview.quality);B(O,{get inputType(){return F.NUMBER},get label(){return e(b)},get description(){return e(v)},get isEdited(){return e(u)},get disabled(){return e(r)},get value(){return e(a).image.preview.quality},set value(g){e(a).image.preview.quality=g}})}var V=n(O,2);{let b=t(()=>i()("admin.image_progressive")),v=t(()=>i()("admin.image_progressive_description")),u=t(()=>e(a).image.preview.progressive!==e(s).image.preview.progressive),g=t(()=>e(r)||e(a).image.preview.format===Te.Webp);J(V,{get title(){return e(b)},get subtitle(){return e(v)},get checked(){return e(a).image.preview.progressive},onToggle:$=>e(a).image.preview.progressive=$,get isEdited(){return e(u)},get disabled(){return e(g)}})}k(f,m)},$$slots:{default:!0}})}var U=n(S,2);{let y=t(()=>i()("admin.image_fullsize_title")),c=t(()=>i()("admin.image_fullsize_description"));de(U,{key:"fullsize-settings",get title(){return e(y)},get subtitle(){return e(c)},children:(f,_)=>{var m=Va(),x=he(m);{let b=t(()=>i()("admin.image_fullsize_enabled")),v=t(()=>i()("admin.image_fullsize_enabled_description")),u=t(()=>e(a).image.fullsize.enabled!==e(s).image.fullsize.enabled);J(x,{get title(){return e(b)},get subtitle(){return e(v)},get checked(){return e(a).image.fullsize.enabled},onToggle:g=>e(a).image.fullsize.enabled=g,get isEdited(){return e(u)},get disabled(){return e(r)}})}var P=n(x,4);{let b=t(()=>i()("admin.image_format")),v=t(()=>i()("admin.image_format_description")),u=t(()=>[{value:Te.Jpeg,text:"JPEG"},{value:Te.Webp,text:"WebP"}]),g=t(()=>e(a).image.fullsize.format!==e(s).image.fullsize.format),$=t(()=>e(r)||!e(a).image.fullsize.enabled);me(P,{get label(){return e(b)},get desc(){return e(v)},get options(){return e(u)},name:"format",get isEdited(){return e(g)},get disabled(){return e($)},onSelect:p=>{p===Te.Webp&&(e(a).image.fullsize.progressive=!1)},get value(){return e(a).image.fullsize.format},set value(p){e(a).image.fullsize.format=p}})}var O=n(P,2);{let b=t(()=>i()("admin.image_quality")),v=t(()=>i()("admin.image_fullsize_quality_description")),u=t(()=>e(a).image.fullsize.quality!==e(s).image.fullsize.quality),g=t(()=>e(r)||!e(a).image.fullsize.enabled);B(O,{get inputType(){return F.NUMBER},get label(){return e(b)},get description(){return e(v)},get isEdited(){return e(u)},get disabled(){return e(g)},get value(){return e(a).image.fullsize.quality},set value($){e(a).image.fullsize.quality=$}})}var V=n(O,2);{let b=t(()=>i()("admin.image_progressive")),v=t(()=>i()("admin.image_progressive_description")),u=t(()=>e(a).image.fullsize.progressive!==e(s).image.fullsize.progressive),g=t(()=>e(r)||!e(a).image.fullsize.enabled||e(a).image.fullsize.format===Te.Webp);J(V,{get title(){return e(b)},get subtitle(){return e(v)},get checked(){return e(a).image.fullsize.progressive},onToggle:$=>e(a).image.fullsize.progressive=$,get isEdited(){return e(u)},get disabled(){return e(g)}})}k(f,m)},$$slots:{default:!0}})}var h=n(U,2),q=o(h);{let y=t(()=>i()("admin.image_prefer_wide_gamut")),c=t(()=>i()("admin.image_prefer_wide_gamut_setting_description")),f=t(()=>e(a).image.colorspace===je.P3),_=t(()=>e(a).image.colorspace!==e(s).image.colorspace);J(q,{get title(){return e(y)},get subtitle(){return e(c)},get checked(){return e(f)},onToggle:m=>e(a).image.colorspace=m?je.P3:je.Srgb,get isEdited(){return e(_)},get disabled(){return e(r)}})}l(h);var R=n(h,2),E=o(R);{let y=t(()=>i()("admin.image_prefer_embedded_preview")),c=t(()=>i()("admin.image_prefer_embedded_preview_setting_description")),f=t(()=>e(a).image.extractEmbedded!==e(s).image.extractEmbedded);J(E,{get title(){return e(y)},get subtitle(){return e(c)},get checked(){return e(a).image.extractEmbedded},onToggle:()=>e(a).image.extractEmbedded=!e(a).image.extractEmbedded,get isEdited(){return e(f)},get disabled(){return e(r)}})}l(R),l(C);var L=n(C,2),z=o(L);$e(z,{keys:["image"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(y){ie(a,y,!0)}}),l(L),l(w),l(T),l(d),ve("submit",w,y=>y.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var Ia=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!></div>'),Qa=A('<div><div><form autocomplete="off"><!> <div class="ms-4"><!></div></form></div></div>');function Xa(j,N){le(N,!0);const i=()=>te(ne,"$t",H),I=()=>te(ra,"$getQueueName",H),[H,r]=oe(),s=t(()=>ce.value.configFile),a=t(()=>Y.value);let d=ue(be(Y.cloneValue()));const T=[Le.ThumbnailGeneration,Le.MetadataExtraction,Le.Library,Le.Sidecar,Le.SmartSearch,Le.FaceDetection,Le.FacialRecognition,Le.VideoConversion,Le.StorageTemplateMigration,Le.Migration,Le.Ocr];function w(R){return R in e(d).job}var C=Qa(),D=o(C),S=o(D),U=o(S);Ve(U,16,()=>T,R=>R,(R,E)=>{var L=Ia(),z=o(L);{var y=f=>{{let _=t(()=>i()("admin.job_concurrency",{values:{job:I()(E)}})),m=t(()=>e(d).job[E].concurrency!=e(a).job[E].concurrency);B(f,{get inputType(){return F.NUMBER},get disabled(){return e(s)},get label(){return e(_)},description:"",required:!0,get isEdited(){return e(m)},get value(){return e(d).job[E].concurrency},set value(x){e(d).job[E].concurrency=x}})}},c=f=>{{let _=t(()=>i()("admin.job_concurrency",{values:{job:I()(E)}})),m=t(()=>i()("admin.job_not_concurrency_safe"));B(f,{get inputType(){return F.NUMBER},get label(){return e(_)},description:"",value:1,disabled:!0,get title(){return e(m)}})}};fe(z,f=>{w(E)?f(y):f(c,!1)})}l(L),k(R,L)});var h=n(U,2),q=o(h);$e(q,{keys:["job"],get disabled(){return e(s)},get configToEdit(){return e(d)},set configToEdit(R){ie(d,R,!0)}}),l(h),l(S),l(D),l(C),ve("submit",S,R=>R.preventDefault()),ge(1,D,()=>_e,()=>({duration:500})),k(j,C),se(),r()}var ja=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!></div>'),Ha=A('<a class="underline" target="_blank" rel="noreferrer"> </a>'),Wa=A('<p class="text-sm dark:text-immich-dark-fg"><!></p>'),Ga=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!></div>'),Ja=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!></div></form></div></div>');function Ka(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue())),d=t(()=>[{text:i()("interval.night_at_midnight"),value:"0 0 * * *"},{text:i()("interval.night_at_twoam"),value:"0 2 * * *"},{text:i()("interval.day_at_onepm"),value:"0 13 * * *"},{text:i()("interval.hours",{values:{hours:6}}),value:"0 */6 * * *"}]);var T=Ja(),w=o(T),C=o(w),D=o(C),S=o(D);{let q=t(()=>i()("admin.library_watching_settings")),R=t(()=>i()("admin.library_watching_settings_description"));de(S,{key:"library-watching",get title(){return e(q)},get subtitle(){return e(R)},children:(E,L)=>{var z=ja(),y=o(z);{let c=t(()=>i()("admin.library_watching_enable_description"));J(y,{get title(){return e(c)},get disabled(){return e(r)},get checked(){return e(a).library.watch.enabled},set checked(f){e(a).library.watch.enabled=f}})}l(z),k(E,z)},$$slots:{default:!0}})}var U=n(S,2);{let q=t(()=>i()("admin.library_scanning")),R=t(()=>i()("admin.library_scanning_description"));de(U,{key:"library-scanning",get title(){return e(q)},get subtitle(){return e(R)},children:(E,L)=>{var z=Ga(),y=o(z);{let _=t(()=>i()("admin.library_scanning_enable_description"));J(y,{get title(){return e(_)},get disabled(){return e(r)},get checked(){return e(a).library.scan.enabled},set checked(m){e(a).library.scan.enabled=m}})}var c=n(y,2);{let _=t(()=>e(r)||!e(a).library.scan.enabled),m=t(()=>i()("admin.cron_expression_presets"));me(c,{get options(){return e(d)},get disabled(){return e(_)},name:"expression",get label(){return e(m)},get value(){return e(a).library.scan.cronExpression},set value(x){e(a).library.scan.cronExpression=x}})}var f=n(c,2);{const _=O=>{var V=Wa(),b=o(V);Re(b,{key:"admin.cron_expression_description",children:(u,g)=>{let $=()=>g?.().message;var p=Ha(),M=o(p,!0);l(p),ae(Q=>{Ce(p,"href",`https://crontab.guru/#${Q??""}`),re(M,$())},[()=>e(a).library.scan.cronExpression.replaceAll(" ","_")]),k(u,p)},$$slots:{default:!0}}),l(V),k(O,V)};let m=t(()=>e(r)||!e(a).library.scan.enabled),x=t(()=>i()("admin.cron_expression")),P=t(()=>e(a).library.scan.cronExpression!==e(s).library.scan.cronExpression);B(f,{get inputType(){return F.TEXT},required:!0,get disabled(){return e(m)},get label(){return e(x)},get isEdited(){return e(P)},get value(){return e(a).library.scan.cronExpression},set value(O){e(a).library.scan.cronExpression=O},descriptionSnippet:_,$$slots:{descriptionSnippet:!0}})}l(z),k(E,z)},$$slots:{default:!0}})}var h=n(U,2);$e(h,{keys:["library"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(q){ie(a,q,!0)}}),l(D),l(C),l(w),l(T),ve("submit",C,q=>q.preventDefault()),ge(1,w,()=>_e,()=>({duration:500})),k(j,T),se(),H()}var Ya=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!></div></form></div></div>');function Za(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=Ya(),T=o(d),w=o(T),C=o(w),D=o(C);{let h=t(()=>i()("admin.logging_enable_description"));J(D,{get title(){return e(h)},get disabled(){return e(r)},get checked(){return e(a).logging.enabled},set checked(q){e(a).logging.enabled=q}})}var S=n(D,2);{let h=t(()=>i()("level")),q=t(()=>i()("admin.logging_level_description")),R=t(()=>[{value:Ae.Fatal,text:"Fatal"},{value:Ae.Error,text:"Error"},{value:Ae.Warn,text:"Warn"},{value:Ae.Log,text:"Log"},{value:Ae.Debug,text:"Debug"},{value:Ae.Verbose,text:"Verbose"}]),E=t(()=>e(a).logging.level!==e(s).logging.level),L=t(()=>e(r)||!e(a).logging.enabled);me(S,{get label(){return e(h)},get desc(){return e(q)},get options(){return e(R)},name:"level",get isEdited(){return e(E)},get disabled(){return e(L)},get value(){return e(a).logging.level},set value(z){e(a).logging.level=z}})}var U=n(S,2);$e(U,{keys:["logging"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(h){ie(a,h,!0)}}),l(C),l(w),l(T),l(d),ve("submit",w,h=>h.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var ei=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <hr/> <!> <!></div>'),ti=A('<a target="_blank" href="https://huggingface.co/immich-app"><u> </u></a>'),ai=A('<p class="immich-form-label pb-2 text-sm"><!></p>'),ii=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <hr/> <!></div>'),ri=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <hr/> <!></div>'),ni=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <hr/> <!> <!> <!> <!></div>'),li=A('<div class="ml-4 mt-4 flex flex-col gap-4"><!> <hr/> <!> <!> <!> <!></div>'),si=A('<div class="mt-2"><div><form autocomplete="off" class="mx-4 mt-4"><div class="flex flex-col gap-4"><!> <hr/> <div></div> <div class="flex justify-end"><!></div></div> <!> <!> <!> <!> <!> <!></form></div></div>');function oi(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=si(),T=o(d),w=o(T),C=o(w),D=o(C);{let c=t(()=>i()("admin.machine_learning_enabled")),f=t(()=>i()("admin.machine_learning_enabled_description"));J(D,{get title(){return e(c)},get subtitle(){return e(f)},get disabled(){return e(r)},get checked(){return e(a).machineLearning.enabled},set checked(_){e(a).machineLearning.enabled=_}})}var S=n(D,4);Ve(S,21,()=>e(a).machineLearning.urls,yt,(c,f,_)=>{{const m=b=>{var v=Pe(),u=he(v);{var g=$=>{St($,{"aria-label":"",onclick:()=>e(a).machineLearning.urls.splice(_,1),get icon(){return nt},color:"danger"})};fe(u,$=>{e(a).machineLearning.urls.length>1&&$(g)})}k(b,v)};let x=t(()=>_===0?i()("url"):void 0),P=t(()=>_===0?i()("admin.machine_learning_url_description"):void 0),O=t(()=>e(r)||!e(a).machineLearning.enabled),V=t(()=>_===0&&!Fe(e(a).machineLearning.urls,e(s).machineLearning.urls));B(c,{get inputType(){return F.TEXT},get label(){return e(x)},get description(){return e(P)},required:_===0,get disabled(){return e(O)},get isEdited(){return e(V)},get value(){return e(a).machineLearning.urls[_]},set value(b){e(a).machineLearning.urls[_]=b},trailingSnippet:m,$$slots:{trailingSnippet:!0}})}}),l(S);var U=n(S,2),h=o(U);{let c=t(()=>e(r)||!e(a).machineLearning.enabled);Ie(h,{class:"mb-2",size:"small",shape:"round",get leadingIcon(){return Lt},onclick:()=>e(a).machineLearning.urls.push(""),get disabled(){return e(c)},children:(f,_)=>{Ue();var m=qe();ae(x=>re(m,x),[()=>i()("add_url")]),k(f,m)},$$slots:{default:!0}})}l(U),l(C);var q=n(C,2);{let c=t(()=>i()("admin.machine_learning_availability_checks")),f=t(()=>i()("admin.machine_learning_availability_checks_description"));de(q,{key:"availability-checks",get title(){return e(c)},get subtitle(){return e(f)},children:(_,m)=>{var x=ei(),P=o(x);{let b=t(()=>i()("admin.machine_learning_availability_checks_enabled")),v=t(()=>e(r)||!e(a).machineLearning.enabled);J(P,{get title(){return e(b)},get disabled(){return e(v)},get checked(){return e(a).machineLearning.availabilityChecks.enabled},set checked(u){e(a).machineLearning.availabilityChecks.enabled=u}})}var O=n(P,4);{let b=t(()=>i()("admin.machine_learning_availability_checks_interval")),v=t(()=>i()("admin.machine_learning_availability_checks_interval_description")),u=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.availabilityChecks.enabled),g=t(()=>e(a).machineLearning.availabilityChecks.interval!==e(s).machineLearning.availabilityChecks.interval);B(O,{get inputType(){return F.NUMBER},get label(){return e(b)},get description(){return e(v)},get disabled(){return e(u)},get isEdited(){return e(g)},get value(){return e(a).machineLearning.availabilityChecks.interval},set value($){e(a).machineLearning.availabilityChecks.interval=$}})}var V=n(O,2);{let b=t(()=>i()("admin.machine_learning_availability_checks_timeout")),v=t(()=>i()("admin.machine_learning_availability_checks_timeout_description")),u=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.availabilityChecks.enabled),g=t(()=>e(a).machineLearning.availabilityChecks.timeout!==e(s).machineLearning.availabilityChecks.timeout);B(V,{get inputType(){return F.NUMBER},get label(){return e(b)},get description(){return e(v)},get disabled(){return e(u)},get isEdited(){return e(g)},get value(){return e(a).machineLearning.availabilityChecks.timeout},set value($){e(a).machineLearning.availabilityChecks.timeout=$}})}l(x),k(_,x)},$$slots:{default:!0}})}var R=n(q,2);{let c=t(()=>i()("admin.machine_learning_smart_search")),f=t(()=>i()("admin.machine_learning_smart_search_description"));de(R,{key:"smart-search",get title(){return e(c)},get subtitle(){return e(f)},children:(_,m)=>{var x=ii(),P=o(x);{let V=t(()=>i()("admin.machine_learning_smart_search_enabled")),b=t(()=>i()("admin.machine_learning_smart_search_enabled_description")),v=t(()=>e(r)||!e(a).machineLearning.enabled);J(P,{get title(){return e(V)},get subtitle(){return e(b)},get disabled(){return e(v)},get checked(){return e(a).machineLearning.clip.enabled},set checked(u){e(a).machineLearning.clip.enabled=u}})}var O=n(P,4);{const V=g=>{var $=ai(),p=o($);Re(p,{key:"admin.machine_learning_clip_model_description",children:(Q,X)=>{let Z=()=>X?.().message;var pe=ti(),ye=o(pe),xe=o(ye,!0);l(ye),l(pe),ae(()=>re(xe,Z())),k(Q,pe)},$$slots:{default:!0}}),l($),k(g,$)};let b=t(()=>i()("admin.machine_learning_clip_model")),v=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.clip.enabled),u=t(()=>e(a).machineLearning.clip.modelName!==e(s).machineLearning.clip.modelName);B(O,{get inputType(){return F.TEXT},get label(){return e(b)},required:!0,get disabled(){return e(v)},get isEdited(){return e(u)},get value(){return e(a).machineLearning.clip.modelName},set value(g){e(a).machineLearning.clip.modelName=g},descriptionSnippet:V,$$slots:{descriptionSnippet:!0}})}l(x),k(_,x)},$$slots:{default:!0}})}var E=n(R,2);{let c=t(()=>i()("admin.machine_learning_duplicate_detection")),f=t(()=>i()("admin.machine_learning_duplicate_detection_setting_description"));de(E,{key:"duplicate-detection",get title(){return e(c)},get subtitle(){return e(f)},children:(_,m)=>{var x=ri(),P=o(x);{let V=t(()=>i()("admin.machine_learning_duplicate_detection_enabled")),b=t(()=>i()("admin.machine_learning_duplicate_detection_enabled_description")),v=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.clip.enabled);J(P,{get title(){return e(V)},get subtitle(){return e(b)},get disabled(){return e(v)},get checked(){return e(a).machineLearning.duplicateDetection.enabled},set checked(u){e(a).machineLearning.duplicateDetection.enabled=u}})}var O=n(P,4);{let V=t(()=>i()("admin.machine_learning_max_detection_distance")),b=t(()=>i()("admin.machine_learning_max_detection_distance_description")),v=t(()=>e(r)||!ce.value.duplicateDetection),u=t(()=>e(a).machineLearning.duplicateDetection.maxDistance!==e(s).machineLearning.duplicateDetection.maxDistance);B(O,{get inputType(){return F.NUMBER},get label(){return e(V)},step:"0.0005",min:.001,max:.1,get description(){return e(b)},get disabled(){return e(v)},get isEdited(){return e(u)},get value(){return e(a).machineLearning.duplicateDetection.maxDistance},set value(g){e(a).machineLearning.duplicateDetection.maxDistance=g}})}l(x),k(_,x)},$$slots:{default:!0}})}var L=n(E,2);{let c=t(()=>i()("admin.machine_learning_facial_recognition")),f=t(()=>i()("admin.machine_learning_facial_recognition_description"));de(L,{key:"facial-recognition",get title(){return e(c)},get subtitle(){return e(f)},children:(_,m)=>{var x=ni(),P=o(x);{let u=t(()=>i()("admin.machine_learning_facial_recognition_setting")),g=t(()=>i()("admin.machine_learning_facial_recognition_setting_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled);J(P,{get title(){return e(u)},get subtitle(){return e(g)},get disabled(){return e($)},get checked(){return e(a).machineLearning.facialRecognition.enabled},set checked(p){e(a).machineLearning.facialRecognition.enabled=p}})}var O=n(P,4);{let u=t(()=>i()("admin.machine_learning_facial_recognition_model")),g=t(()=>i()("admin.machine_learning_facial_recognition_model_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.facialRecognition.enabled),p=t(()=>e(a).machineLearning.facialRecognition.modelName!==e(s).machineLearning.facialRecognition.modelName);me(O,{get label(){return e(u)},get desc(){return e(g)},name:"facial-recognition-model",options:[{value:"antelopev2",text:"antelopev2"},{value:"buffalo_l",text:"buffalo_l"},{value:"buffalo_m",text:"buffalo_m"},{value:"buffalo_s",text:"buffalo_s"}],get disabled(){return e($)},get isEdited(){return e(p)},get value(){return e(a).machineLearning.facialRecognition.modelName},set value(M){e(a).machineLearning.facialRecognition.modelName=M}})}var V=n(O,2);{let u=t(()=>i()("admin.machine_learning_min_detection_score")),g=t(()=>i()("admin.machine_learning_min_detection_score_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.facialRecognition.enabled),p=t(()=>e(a).machineLearning.facialRecognition.minScore!==e(s).machineLearning.facialRecognition.minScore);B(V,{get inputType(){return F.NUMBER},get label(){return e(u)},get description(){return e(g)},step:"0.01",min:.1,max:1,get disabled(){return e($)},get isEdited(){return e(p)},get value(){return e(a).machineLearning.facialRecognition.minScore},set value(M){e(a).machineLearning.facialRecognition.minScore=M}})}var b=n(V,2);{let u=t(()=>i()("admin.machine_learning_max_recognition_distance")),g=t(()=>i()("admin.machine_learning_max_recognition_distance_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.facialRecognition.enabled),p=t(()=>e(a).machineLearning.facialRecognition.maxDistance!==e(s).machineLearning.facialRecognition.maxDistance);B(b,{get inputType(){return F.NUMBER},get label(){return e(u)},get description(){return e(g)},step:"0.01",min:.1,max:2,get disabled(){return e($)},get isEdited(){return e(p)},get value(){return e(a).machineLearning.facialRecognition.maxDistance},set value(M){e(a).machineLearning.facialRecognition.maxDistance=M}})}var v=n(b,2);{let u=t(()=>i()("admin.machine_learning_min_recognized_faces")),g=t(()=>i()("admin.machine_learning_min_recognized_faces_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.facialRecognition.enabled),p=t(()=>e(a).machineLearning.facialRecognition.minFaces!==e(s).machineLearning.facialRecognition.minFaces);B(v,{get inputType(){return F.NUMBER},get label(){return e(u)},get description(){return e(g)},step:"1",min:1,get disabled(){return e($)},get isEdited(){return e(p)},get value(){return e(a).machineLearning.facialRecognition.minFaces},set value(M){e(a).machineLearning.facialRecognition.minFaces=M}})}l(x),k(_,x)},$$slots:{default:!0}})}var z=n(L,2);{let c=t(()=>i()("admin.machine_learning_ocr")),f=t(()=>i()("admin.machine_learning_ocr_description"));de(z,{key:"ocr",get title(){return e(c)},get subtitle(){return e(f)},children:(_,m)=>{var x=li(),P=o(x);{let u=t(()=>i()("admin.machine_learning_ocr_enabled")),g=t(()=>i()("admin.machine_learning_ocr_enabled_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled);J(P,{get title(){return e(u)},get subtitle(){return e(g)},get disabled(){return e($)},get checked(){return e(a).machineLearning.ocr.enabled},set checked(p){e(a).machineLearning.ocr.enabled=p}})}var O=n(P,4);{let u=t(()=>i()("admin.machine_learning_ocr_model")),g=t(()=>i()("admin.machine_learning_ocr_model_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.ocr.enabled),p=t(()=>e(a).machineLearning.ocr.modelName!==e(s).machineLearning.ocr.modelName);me(O,{get label(){return e(u)},get desc(){return e(g)},name:"ocr-model",options:[{text:"PP-OCRv5_server (Chinese, Japanese and English)",value:"PP-OCRv5_server"},{text:"PP-OCRv5_mobile (Chinese, Japanese and English)",value:"PP-OCRv5_mobile"},{text:"PP-OCRv5_mobile (English-only)",value:"EN__PP-OCRv5_mobile"},{text:"PP-OCRv5_mobile (Greek and English)",value:"EL__PP-OCRv5_mobile"},{text:"PP-OCRv5_mobile (Korean and English)",value:"KOREAN__PP-OCRv5_mobile"},{text:"PP-OCRv5_mobile (Latin script languages)",value:"LATIN__PP-OCRv5_mobile"},{text:"PP-OCRv5_mobile (Russian, Belarusian, Ukrainian and English)",value:"ESLAV__PP-OCRv5_mobile"},{text:"PP-OCRv5_mobile (Thai and English)",value:"TH__PP-OCRv5_mobile"}],get disabled(){return e($)},get isEdited(){return e(p)},get value(){return e(a).machineLearning.ocr.modelName},set value(M){e(a).machineLearning.ocr.modelName=M}})}var V=n(O,2);{let u=t(()=>i()("admin.machine_learning_ocr_min_detection_score")),g=t(()=>i()("admin.machine_learning_ocr_min_detection_score_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.ocr.enabled),p=t(()=>e(a).machineLearning.ocr.minDetectionScore!==e(s).machineLearning.ocr.minDetectionScore);B(V,{get inputType(){return F.NUMBER},get label(){return e(u)},get description(){return e(g)},step:"0.1",min:.1,max:1,get disabled(){return e($)},get isEdited(){return e(p)},get value(){return e(a).machineLearning.ocr.minDetectionScore},set value(M){e(a).machineLearning.ocr.minDetectionScore=M}})}var b=n(V,2);{let u=t(()=>i()("admin.machine_learning_ocr_min_recognition_score")),g=t(()=>i()("admin.machine_learning_ocr_min_score_recognition_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.ocr.enabled),p=t(()=>e(a).machineLearning.ocr.minRecognitionScore!==e(s).machineLearning.ocr.minRecognitionScore);B(b,{get inputType(){return F.NUMBER},get label(){return e(u)},get description(){return e(g)},step:"0.1",min:.1,max:1,get disabled(){return e($)},get isEdited(){return e(p)},get value(){return e(a).machineLearning.ocr.minRecognitionScore},set value(M){e(a).machineLearning.ocr.minRecognitionScore=M}})}var v=n(b,2);{let u=t(()=>i()("admin.machine_learning_ocr_max_resolution")),g=t(()=>i()("admin.machine_learning_ocr_max_resolution_description")),$=t(()=>e(r)||!e(a).machineLearning.enabled||!e(a).machineLearning.ocr.enabled),p=t(()=>e(a).machineLearning.ocr.maxResolution!==e(s).machineLearning.ocr.maxResolution);B(v,{get inputType(){return F.NUMBER},get label(){return e(u)},get description(){return e(g)},min:1,get disabled(){return e($)},get isEdited(){return e(p)},get value(){return e(a).machineLearning.ocr.maxResolution},set value(M){e(a).machineLearning.ocr.maxResolution=M}})}l(x),k(_,x)},$$slots:{default:!0}})}var y=n(z,2);$e(y,{keys:["machineLearning"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(c){ie(a,c,!0)}}),l(w),l(T),l(d),ve("submit",w,c=>c.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var di=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <hr/> <!> <!></div>'),ui=A('<a href="https://docs.immich.app/features/reverse-geocoding" class="underline" target="_blank" rel="noreferrer"> </a>'),ci=A('<p class="text-sm dark:text-immich-dark-fg"><!></p>'),gi=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!></div>'),mi=A('<div class="mt-2"><div><form autocomplete="off"><div class="flex flex-col gap-4"><!> <!> <!></div></form></div></div>');function vi(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=mi(),T=o(d),w=o(T),C=o(w),D=o(C);{let h=t(()=>i()("admin.map_settings")),q=t(()=>i()("admin.map_settings_description"));de(D,{key:"map",get title(){return e(h)},get subtitle(){return e(q)},children:(R,E)=>{var L=di(),z=o(L);{let f=t(()=>i()("admin.map_enable_description")),_=t(()=>i()("admin.map_implications"));J(z,{get title(){return e(f)},get subtitle(){return e(_)},get disabled(){return e(r)},get checked(){return e(a).map.enabled},set checked(m){e(a).map.enabled=m}})}var y=n(z,4);{let f=t(()=>i()("admin.map_light_style")),_=t(()=>i()("admin.map_style_description")),m=t(()=>e(r)||!e(a).map.enabled),x=t(()=>e(a).map.lightStyle!==e(s).map.lightStyle);B(y,{get inputType(){return F.TEXT},get label(){return e(f)},get description(){return e(_)},get disabled(){return e(m)},get isEdited(){return e(x)},get value(){return e(a).map.lightStyle},set value(P){e(a).map.lightStyle=P}})}var c=n(y,2);{let f=t(()=>i()("admin.map_dark_style")),_=t(()=>i()("admin.map_style_description")),m=t(()=>e(r)||!e(a).map.enabled),x=t(()=>e(a).map.darkStyle!==e(s).map.darkStyle);B(c,{get inputType(){return F.TEXT},get label(){return e(f)},get description(){return e(_)},get disabled(){return e(m)},get isEdited(){return e(x)},get value(){return e(a).map.darkStyle},set value(P){e(a).map.darkStyle=P}})}l(L),k(R,L)},$$slots:{default:!0}})}var S=n(D,2);{const h=R=>{var E=ci(),L=o(E);Re(L,{key:"admin.map_manage_reverse_geocoding_settings",children:(y,c)=>{let f=()=>c?.().message;var _=ui(),m=o(_,!0);l(_),ae(()=>re(m,f())),k(y,_)},$$slots:{default:!0}}),l(E),k(R,E)};let q=t(()=>i()("admin.map_reverse_geocoding_settings"));de(S,{key:"reverse-geocoding",get title(){return e(q)},subtitleSnippet:h,children:(R,E)=>{var L=gi(),z=o(L);{let y=t(()=>i()("admin.map_reverse_geocoding_enable_description"));J(z,{get title(){return e(y)},get disabled(){return e(r)},get checked(){return e(a).reverseGeocoding.enabled},set checked(c){e(a).reverseGeocoding.enabled=c}})}l(L),k(R,L)},$$slots:{subtitleSnippet:!0,default:!0}})}var U=n(S,2);$e(U,{keys:["map","reverseGeocoding"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(h){ie(a,h,!0)}}),l(C),l(w),l(T),l(d),ve("submit",w,h=>h.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var _i=A('<div class="mt-2"><div><form autocomplete="off" class="mx-4 mt-4"><div class="ms-4 mt-4 flex flex-col gap-4"><!></div> <!></form></div></div>');function pi(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile);let s=ue(be(Y.cloneValue()));var a=_i(),d=o(a),T=o(d),w=o(T),C=o(w);{let S=t(()=>i()("admin.metadata_faces_import_setting")),U=t(()=>i()("admin.metadata_faces_import_setting_description"));J(C,{get title(){return e(S)},get subtitle(){return e(U)},get disabled(){return e(r)},get checked(){return e(s).metadata.faces.import},set checked(h){e(s).metadata.faces.import=h}})}l(w);var D=n(w,2);$e(D,{keys:["metadata"],get disabled(){return e(r)},get configToEdit(){return e(s)},set configToEdit(S){ie(s,S,!0)}}),l(T),l(d),l(a),ve("submit",T,S=>S.preventDefault()),ge(1,d,()=>_e,()=>({duration:500})),k(j,a),se(),H()}var fi=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4"><!> <!></div></form></div></div>');function bi(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile);let s=ue(be(Y.cloneValue()));var a=fi(),d=o(a),T=o(d),w=o(T),C=o(w);{let S=t(()=>i()("admin.version_check_enabled_description")),U=t(()=>i()("admin.version_check_implications"));J(C,{get title(){return e(S)},get subtitle(){return e(U)},get disabled(){return e(r)},get checked(){return e(s).newVersionCheck.enabled},set checked(h){e(s).newVersionCheck.enabled=h}})}var D=n(C,2);$e(D,{keys:["newVersionCheck"],get disabled(){return e(r)},get configToEdit(){return e(s)},set configToEdit(S){ie(s,S,!0)}}),l(w),l(T),l(d),l(a),ve("submit",T,S=>S.preventDefault()),ge(1,d,()=>_e,()=>({duration:500})),k(j,a),se(),H()}var $i=A('<div class="mt-2"><div><form autocomplete="off" class="mx-4 mt-4"><div class="ms-4 mt-4 flex flex-col gap-4"><!> <!> <!> <!> <!> <!></div> <!></form></div></div>');function hi(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=$i(),T=o(d),w=o(T),C=o(w),D=o(C);{let L=t(()=>i()("admin.nightly_tasks_start_time_setting")),z=t(()=>i()("admin.nightly_tasks_start_time_setting_description")),y=t(()=>e(a).nightlyTasks.startTime!==e(s).nightlyTasks.startTime);B(D,{get inputType(){return F.TEXT},get label(){return e(L)},get description(){return e(z)},required:!0,get disabled(){return e(r)},get isEdited(){return e(y)},get value(){return e(a).nightlyTasks.startTime},set value(c){e(a).nightlyTasks.startTime=c}})}var S=n(D,2);{let L=t(()=>i()("admin.nightly_tasks_database_cleanup_setting")),z=t(()=>i()("admin.nightly_tasks_database_cleanup_setting_description"));J(S,{get title(){return e(L)},get subtitle(){return e(z)},get disabled(){return e(r)},get checked(){return e(a).nightlyTasks.databaseCleanup},set checked(y){e(a).nightlyTasks.databaseCleanup=y}})}var U=n(S,2);{let L=t(()=>i()("admin.nightly_tasks_missing_thumbnails_setting")),z=t(()=>i()("admin.nightly_tasks_missing_thumbnails_setting_description"));J(U,{get title(){return e(L)},get subtitle(){return e(z)},get disabled(){return e(r)},get checked(){return e(a).nightlyTasks.missingThumbnails},set checked(y){e(a).nightlyTasks.missingThumbnails=y}})}var h=n(U,2);{let L=t(()=>i()("admin.nightly_tasks_cluster_new_faces_setting")),z=t(()=>i()("admin.nightly_tasks_cluster_faces_setting_description"));J(h,{get title(){return e(L)},get subtitle(){return e(z)},get disabled(){return e(r)},get checked(){return e(a).nightlyTasks.clusterNewFaces},set checked(y){e(a).nightlyTasks.clusterNewFaces=y}})}var q=n(h,2);{let L=t(()=>i()("admin.nightly_tasks_generate_memories_setting")),z=t(()=>i()("admin.nightly_tasks_generate_memories_setting_description"));J(q,{get title(){return e(L)},get subtitle(){return e(z)},get disabled(){return e(r)},get checked(){return e(a).nightlyTasks.generateMemories},set checked(y){e(a).nightlyTasks.generateMemories=y}})}var R=n(q,2);{let L=t(()=>i()("admin.nightly_tasks_sync_quota_usage_setting")),z=t(()=>i()("admin.nightly_tasks_sync_quota_usage_setting_description"));J(R,{get title(){return e(L)},get subtitle(){return e(z)},get disabled(){return e(r)},get checked(){return e(a).nightlyTasks.syncQuotaUsage},set checked(y){e(a).nightlyTasks.syncQuotaUsage=y}})}l(C);var E=n(C,2);$e(E,{keys:["nightlyTasks"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(L){ie(a,L,!0)}}),l(w),l(T),l(d),ve("submit",w,L=>L.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var yi=A('<div class="text-red-400">*</div>'),xi=A('<div class="rounded-full bg-orange-100 px-2 text-[10px] text-orange-900"> </div>'),ki=A('<p class="immich-form-label pb-2 text-sm"> </p>'),Ei=A('<div class="mb-4 w-full"><div class="flex h-6.5 place-items-center gap-1"><label class="font-medium text-primary text-sm"> </label> <!> <!></div> <!> <textarea class="immich-form-input w-full pb-2"></textarea></div>');function ot(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe();let r=Ee(N,"value",15),s=Ee(N,"label",3,""),a=Ee(N,"description",3,""),d=Ee(N,"required",3,!1),T=Ee(N,"disabled",3,!1),w=Ee(N,"isEdited",3,!1);const C=_=>{r(_.target.value)};var D=Ei(),S=o(D),U=o(S),h=o(U,!0);l(U);var q=n(U,2);{var R=_=>{var m=yi();k(_,m)};fe(q,_=>{d()&&_(R)})}var E=n(q,2);{var L=_=>{var m=xi(),x=o(m,!0);l(m),ae(P=>re(x,P),[()=>i()("unsaved_change")]),ge(3,m,()=>it,()=>({x:10,duration:200,easing:st})),k(_,m)};fe(E,_=>{w()&&_(L)})}l(S);var z=n(S,2);{var y=_=>{var m=ki(),x=o(m,!0);l(m),ae(()=>{Ce(m,"id",`${s()??""}-desc`),re(x,a())}),k(_,m)},c=_=>{var m=Pe(),x=he(m);na(x,()=>N.descriptionSnippet??$t),k(_,m)};fe(z,_=>{a()?_(y):_(c,!1)})}var f=n(z,2);ht(f),f.__input=C,l(D),ae(()=>{Ce(U,"for",s()),re(h,s()),Ce(f,"aria-describedby",a()?`${s()}-desc`:void 0),Ce(f,"aria-labelledby",`${s()??""}-label`),Ce(f,"id",s()),Ce(f,"name",s()),f.required=d(),wt(f,r()),f.disabled=T()}),k(j,D),se(),H()}kt(["input"]);var Ti=A('<div class="relative w-full h-240 overflow-hidden"><iframe class="absolute top-0 left-0 w-full h-full border-none"></iframe></div>');function Ci(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe();{let r=t(()=>i()("admin.template_email_preview"));ea(j,{get title(){return e(r)},get onClose(){return N.onClose},size:"giant",children:(s,a)=>{ta(s,{children:(d,T)=>{var w=Ti(),C=o(w);l(w),ae(D=>{Ce(C,"title",D),Ce(C,"srcdoc",N.html)},[()=>i()("admin.template_email_preview")]),k(d,w)},$$slots:{default:!0}})},$$slots:{default:!0}})}se(),H()}var Li=A("<!> ",1),Si=A('<!> <div class="flex justify-between"><!></div>',1),wi=A('<div class="ms-4 mt-4 flex flex-col gap-4"><p class="text-sm dark:text-immich-dark-fg"><!></p> <hr/> <!> <!></div>'),Pi=A('<div><form autocomplete="off" class="mt-4"><div class="flex flex-col gap-4"><!></div></form></div>');function Ri(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe();let r=Ee(N,"config",15),s=ue(!1);const a=async(h,q)=>{try{ie(s,!0);const{html:R}=await ft({name:h,templateDto:{template:q}});await We.show(Ci,{html:R})}catch(R){Ge(R,"Could not load template.")}finally{ie(s,!1)}},d=[{label:i()("admin.template_email_welcome"),templateKey:"welcomeTemplate",descriptionTags:"{username}, {password}, {displayName}, {baseUrl}",templateName:"welcome"},{label:i()("admin.template_email_invite_album"),templateKey:"albumInviteTemplate",descriptionTags:"{senderName}, {recipientName}, {albumId}, {albumName}, {baseUrl}",templateName:"album-invite"},{label:i()("admin.template_email_update_album"),templateKey:"albumUpdateTemplate",descriptionTags:"{recipientName}, {albumId}, {albumName}, {baseUrl}",templateName:"album-update"}],T=h=>r().templates.email[h]!==Y.value.templates.email[h],w=h=>{h.preventDefault()};var C=Pi(),D=o(C),S=o(D),U=o(S);{let h=t(()=>i()("admin.template_email_settings")),q=t(()=>i()("admin.template_settings_description"));de(U,{key:"templates",get title(){return e(h)},get subtitle(){return e(q)},children:(R,E)=>{var L=wi(),z=o(L),y=o(z);Re(y,{key:"admin.template_email_if_empty",children:(m,x)=>{Ue();var P=qe();ae(O=>re(P,O),[()=>i()("admin.template_email_if_empty")]),k(m,P)},$$slots:{default:!0}}),l(z);var c=n(z,4);{var f=m=>{lt(m,{})};fe(c,m=>{e(s)&&m(f)})}var _=n(c,2);Ve(_,17,()=>d,({label:m,templateKey:x,descriptionTags:P,templateName:O})=>x,(m,x)=>{let P=()=>e(x).label,O=()=>e(x).templateKey,V=()=>e(x).descriptionTags,b=()=>e(x).templateName;var v=Si(),u=he(v);{let p=t(()=>i()("admin.template_email_available_tags",{values:{tags:V()}})),M=t(()=>T(O())),Q=t(()=>!r().notifications.smtp.enabled);ot(u,{get label(){return P()},get description(){return e(p)},get isEdited(){return e(M)},get disabled(){return e(Q)},get value(){return r().templates.email[O()]},set value(X){r(r().templates.email[O()]=X,!0)}})}var g=n(u,2),$=o(g);{let p=t(()=>i()("admin.template_email_preview"));Ie($,{size:"small",shape:"round",onclick:()=>a(b(),r().templates.email[O()]),get title(){return e(p)},children:(M,Q)=>{var X=Li(),Z=he(X);rt(Z,{get icon(){return Pt},class:"me-1"});var pe=n(Z);ae(ye=>re(pe,` ${ye??""}`),[()=>i()("admin.template_email_preview")]),k(M,X)},$$slots:{default:!0}})}l(g),k(m,v)}),l(L),k(R,L)},$$slots:{default:!0}})}l(S),l(D),l(C),ve("submit",D,w),ge(1,C,()=>_e,()=>({duration:500})),k(j,C),se(),H()}var Di=A('<div class="ms-4 mt-4 flex flex-col gap-4"><!> <hr/> <!> <!> <!> <!> <!> <!> <hr/> <!> <div class="flex gap-2 place-items-center"><!> <!></div></div>'),Mi=A('<div><div><form autocomplete="off" class="mt-4"><div class="flex flex-col gap-4"><!></div></form></div> <!> <!></div>');function Ai(j,N){le(N,!0);const i=()=>te(ne,"$t",H),I=()=>te(gt,"$user",H),[H,r]=oe(),s=t(()=>ce.value.configFile),a=t(()=>Y.value);let d=ue(be(Y.cloneValue())),T=ue(!1);const w=async()=>{if(!e(T)){ie(T,!0);try{await bt({systemConfigSmtpDto:{enabled:e(d).notifications.smtp.enabled,transport:{host:e(d).notifications.smtp.transport.host,port:e(d).notifications.smtp.transport.port,secure:e(d).notifications.smtp.transport.secure,username:e(d).notifications.smtp.transport.username,password:e(d).notifications.smtp.transport.password,ignoreCert:e(d).notifications.smtp.transport.ignoreCert},from:e(d).notifications.smtp.from,replyTo:e(d).notifications.smtp.from}}),at.success(i()("admin.notification_email_test_email_sent",{values:{email:I().email}})),e(s)||await Gt({notifications:e(d).notifications})}catch(E){Ge(E,i()("admin.notification_email_test_email_failed"))}finally{ie(T,!1)}}};var C=Mi(),D=o(C),S=o(D),U=o(S),h=o(U);{let E=t(()=>i()("email")),L=t(()=>i()("admin.notification_email_setting_description"));de(h,{key:"email",get title(){return e(E)},get subtitle(){return e(L)},children:(z,y)=>{var c=Di(),f=o(c);{let p=t(()=>i()("admin.notification_enable_email_notifications"));J(f,{get title(){return e(p)},get disabled(){return e(s)},get checked(){return e(d).notifications.smtp.enabled},set checked(M){e(d).notifications.smtp.enabled=M}})}var _=n(f,4);{let p=t(()=>i()("host")),M=t(()=>i()("admin.notification_email_host_description")),Q=t(()=>e(s)||!e(d).notifications.smtp.enabled),X=t(()=>e(d).notifications.smtp.transport.host!==e(a).notifications.smtp.transport.host);B(_,{get inputType(){return F.TEXT},required:!0,get label(){return e(p)},get description(){return e(M)},get disabled(){return e(Q)},get isEdited(){return e(X)},get value(){return e(d).notifications.smtp.transport.host},set value(Z){e(d).notifications.smtp.transport.host=Z}})}var m=n(_,2);{let p=t(()=>i()("port")),M=t(()=>i()("admin.notification_email_port_description")),Q=t(()=>e(s)||!e(d).notifications.smtp.enabled),X=t(()=>e(d).notifications.smtp.transport.port!==e(a).notifications.smtp.transport.port);B(m,{get inputType(){return F.NUMBER},required:!0,get label(){return e(p)},get description(){return e(M)},get disabled(){return e(Q)},get isEdited(){return e(X)},get value(){return e(d).notifications.smtp.transport.port},set value(Z){e(d).notifications.smtp.transport.port=Z}})}var x=n(m,2);{let p=t(()=>i()("username")),M=t(()=>i()("admin.notification_email_username_description")),Q=t(()=>e(s)||!e(d).notifications.smtp.enabled),X=t(()=>e(d).notifications.smtp.transport.username!==e(a).notifications.smtp.transport.username);B(x,{get inputType(){return F.TEXT},get label(){return e(p)},get description(){return e(M)},get disabled(){return e(Q)},get isEdited(){return e(X)},get value(){return e(d).notifications.smtp.transport.username},set value(Z){e(d).notifications.smtp.transport.username=Z}})}var P=n(x,2);{let p=t(()=>i()("password")),M=t(()=>i()("admin.notification_email_password_description")),Q=t(()=>e(s)||!e(d).notifications.smtp.enabled),X=t(()=>e(d).notifications.smtp.transport.password!==e(a).notifications.smtp.transport.password);B(P,{get inputType(){return F.PASSWORD},get label(){return e(p)},get description(){return e(M)},get disabled(){return e(Q)},get isEdited(){return e(X)},get value(){return e(d).notifications.smtp.transport.password},set value(Z){e(d).notifications.smtp.transport.password=Z}})}var O=n(P,2);{let p=t(()=>i()("admin.notification_email_secure")),M=t(()=>i()("admin.notification_email_secure_description")),Q=t(()=>e(s)||!e(d).notifications.smtp.enabled);J(O,{get title(){return e(p)},get subtitle(){return e(M)},get disabled(){return e(Q)},get checked(){return e(d).notifications.smtp.transport.secure},set checked(X){e(d).notifications.smtp.transport.secure=X}})}var V=n(O,2);{let p=t(()=>i()("admin.notification_email_ignore_certificate_errors")),M=t(()=>i()("admin.notification_email_ignore_certificate_errors_description")),Q=t(()=>e(s)||!e(d).notifications.smtp.enabled);J(V,{get title(){return e(p)},get subtitle(){return e(M)},get disabled(){return e(Q)},get checked(){return e(d).notifications.smtp.transport.ignoreCert},set checked(X){e(d).notifications.smtp.transport.ignoreCert=X}})}var b=n(V,4);{let p=t(()=>i()("admin.notification_email_from_address")),M=t(()=>i()("admin.notification_email_from_address_description")),Q=t(()=>e(s)||!e(d).notifications.smtp.enabled),X=t(()=>e(d).notifications.smtp.from!==e(a).notifications.smtp.from);B(b,{get inputType(){return F.TEXT},required:!0,get label(){return e(p)},get description(){return e(M)},get disabled(){return e(Q)},get isEdited(){return e(X)},get value(){return e(d).notifications.smtp.from},set value(Z){e(d).notifications.smtp.from=Z}})}var v=n(b,2),u=o(v);{let p=t(()=>!e(d).notifications.smtp.enabled);Ie(u,{size:"small",shape:"round",get disabled(){return e(p)},onclick:w,children:(M,Q)=>{var X=Pe(),Z=he(X);{var pe=xe=>{var Se=qe();ae(Me=>re(Se,Me),[()=>i()("admin.notification_email_test_email")]),k(xe,Se)},ye=xe=>{var Se=qe();ae(Me=>re(Se,Me),[()=>i()("admin.notification_email_sent_test_email_button")]),k(xe,Se)};fe(Z,xe=>{e(s)?xe(pe):xe(ye,!1)})}k(M,X)},$$slots:{default:!0}})}var g=n(u,2);{var $=p=>{lt(p,{})};fe(g,p=>{e(T)&&p($)})}l(v),l(c),k(z,c)},$$slots:{default:!0}})}l(U),l(S),l(D);var q=n(D,2);Ri(q,{get config(){return e(d)},set config(E){ie(d,E,!0)}});var R=n(q,2);$e(R,{keys:["notifications","templates"],get disabled(){return e(s)},get configToEdit(){return e(d)},set configToEdit(E){ie(d,E,!0)}}),l(C),ve("submit",S,E=>E.preventDefault()),ge(1,D,()=>_e,()=>({duration:500})),k(j,C),se(),r()}var Ni=A('<div><div><form autocomplete="off"><div class="mt-4 ms-4"><!> <!> <!> <div class="ms-4"><!></div></div></form></div></div>');function qi(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=Ni(),T=o(d),w=o(T),C=o(w),D=o(C);{let R=t(()=>i()("admin.server_external_domain_settings")),E=t(()=>i()("admin.server_external_domain_settings_description")),L=t(()=>e(a).server.externalDomain!==e(s).server.externalDomain);B(D,{get inputType(){return F.TEXT},get label(){return e(R)},get description(){return e(E)},get isEdited(){return e(L)},get value(){return e(a).server.externalDomain},set value(z){e(a).server.externalDomain=z}})}var S=n(D,2);{let R=t(()=>i()("admin.server_welcome_message")),E=t(()=>i()("admin.server_welcome_message_description")),L=t(()=>e(a).server.loginPageMessage!==e(s).server.loginPageMessage);B(S,{get inputType(){return F.TEXT},get label(){return e(R)},get description(){return e(E)},get isEdited(){return e(L)},get value(){return e(a).server.loginPageMessage},set value(z){e(a).server.loginPageMessage=z}})}var U=n(S,2);{let R=t(()=>i()("admin.server_public_users")),E=t(()=>i()("admin.server_public_users_description"));J(U,{get title(){return e(R)},get subtitle(){return e(E)},get disabled(){return e(r)},get checked(){return e(a).server.publicUsers},set checked(L){e(a).server.publicUsers=L}})}var h=n(U,2),q=o(h);$e(q,{keys:["server"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(R){ie(a,R,!0)}}),l(h),l(C),l(w),l(T),l(d),ve("submit",w,R=>R.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var Oi=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4 flex flex-col gap-4"><!> <!></div></form></div></div>');function zi(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=Oi(),T=o(d),w=o(T),C=o(w),D=o(C);{let U=t(()=>i()("admin.theme_custom_css_settings")),h=t(()=>i()("admin.theme_custom_css_settings_description")),q=t(()=>e(a).theme.customCss!==e(s).theme.customCss);ot(D,{get disabled(){return e(r)},get label(){return e(U)},get description(){return e(h)},get isEdited(){return e(q)},get value(){return e(a).theme.customCss},set value(R){e(a).theme.customCss=R}})}var S=n(D,2);$e(S,{keys:["theme"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(U){ie(a,U,!0)}}),l(C),l(w),l(T),l(d),ve("submit",w,U=>U.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var Ui=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4 flex flex-col gap-4"><!> <hr/> <!> <!></div></form></div></div>');function Vi(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=Ui(),T=o(d),w=o(T),C=o(w),D=o(C);{let h=t(()=>i()("admin.trash_enabled_description"));J(D,{get title(){return e(h)},get disabled(){return e(r)},get checked(){return e(a).trash.enabled},set checked(q){e(a).trash.enabled=q}})}var S=n(D,4);{let h=t(()=>i()("admin.trash_number_of_days")),q=t(()=>i()("admin.trash_number_of_days_description")),R=t(()=>e(r)||!e(a).trash.enabled),E=t(()=>e(a).trash.days!==e(s).trash.days);B(S,{get inputType(){return F.NUMBER},get label(){return e(h)},get description(){return e(q)},required:!0,get disabled(){return e(R)},get isEdited(){return e(E)},get value(){return e(a).trash.days},set value(L){e(a).trash.days=L}})}var U=n(S,2);$e(U,{keys:["trash"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(h){ie(a,h,!0)}}),l(C),l(w),l(T),l(d),ve("submit",w,h=>h.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var Bi=A('<div><div><form autocomplete="off"><div class="ms-4 mt-4 flex flex-col gap-4"><!></div> <div class="ms-4"><!></div></form></div></div>');function Fi(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=t(()=>ce.value.configFile),s=t(()=>Y.value);let a=ue(be(Y.cloneValue()));var d=Bi(),T=o(d),w=o(T),C=o(w),D=o(C);{let h=t(()=>i()("admin.user_delete_delay_settings")),q=t(()=>i()("admin.user_delete_delay_settings_description")),R=t(()=>e(a).user.deleteDelay!==e(s).user.deleteDelay);B(D,{get inputType(){return F.NUMBER},min:1,get label(){return e(h)},get description(){return e(q)},get isEdited(){return e(R)},get value(){return e(a).user.deleteDelay},set value(E){e(a).user.deleteDelay=E}})}l(C);var S=n(C,2),U=o(S);$e(U,{keys:["user"],get disabled(){return e(r)},get configToEdit(){return e(a)},set configToEdit(h){ie(a,h,!0)}}),l(S),l(w),l(T),l(d),ve("submit",w,h=>h.preventDefault()),ge(1,T,()=>_e,()=>({duration:500})),k(j,d),se(),H()}var Ii=A("<!> <div><!></div> <!>",1),Qi=A("<!> <!>",1);function Tr(j,N){le(N,!0);const i=()=>te(ne,"$t",I),[I,H]=oe(),r=[{component:ha,title:i()("admin.authentication_settings"),subtitle:i()("admin.authentication_settings_description"),key:"authentication",icon:Rt},{component:Ea,title:i()("admin.backup_settings"),subtitle:i()("admin.backup_settings_description"),key:"backup",icon:Dt},{component:Fa,title:i()("admin.image_settings"),subtitle:i()("admin.image_settings_description"),key:"image",icon:Mt},{component:Xa,title:i()("admin.job_settings"),subtitle:i()("admin.job_settings_description"),key:"job",icon:At},{component:Ka,title:i()("admin.library_settings"),subtitle:i()("admin.library_settings_description"),key:"external-library",icon:Nt},{component:Za,title:i()("admin.logging_settings"),subtitle:i()("admin.manage_log_settings"),key:"logging",icon:qt},{component:oi,title:i()("admin.machine_learning_settings"),subtitle:i()("admin.machine_learning_settings_description"),key:"machine-learning",icon:Ot},{component:vi,title:i()("admin.map_gps_settings"),subtitle:i()("admin.map_gps_settings_description"),key:"location",icon:zt},{component:pi,title:i()("admin.metadata_settings"),subtitle:i()("admin.metadata_settings_description"),key:"metadata",icon:Ut},{component:hi,title:i()("admin.nightly_tasks_settings"),subtitle:i()("admin.nightly_tasks_settings_description"),key:"nightly-tasks",icon:Vt},{component:Ai,title:i()("admin.notification_settings"),subtitle:i()("admin.notification_settings_description"),key:"notifications",icon:Bt},{component:qi,title:i()("admin.server_settings"),subtitle:i()("admin.server_settings_description"),key:"server",icon:Ft},{component:Jt,title:i()("admin.storage_template_settings"),subtitle:i()("admin.storage_template_settings_description"),key:"storage-template",icon:It},{component:zi,title:i()("admin.theme_settings"),subtitle:i()("admin.theme_settings_description"),key:"theme",icon:Qt},{component:Vi,title:i()("admin.trash_settings"),subtitle:i()("admin.trash_settings_description"),key:"trash",icon:nt},{component:Fi,title:i()("admin.user_settings"),subtitle:i()("admin.user_settings_description"),key:"user-settings",icon:Xt},{component:bi,title:i()("admin.version_check_settings"),subtitle:i()("admin.version_check_settings_description"),key:"version-check",icon:jt},{component:Oa,title:i()("admin.transcoding_settings"),subtitle:i()("admin.transcoding_settings_description"),key:"video-transcoding",icon:Ht}];let s=ue(""),a=t(()=>r.filter(({title:h,subtitle:q})=>{const R=e(s).toLowerCase();return h.toLowerCase().includes(R)||q.toLowerCase().includes(R)}));const d=t(()=>Kt(i(),ce.value,Y.value)),T=t(()=>e(d).CopyToClipboard),w=t(()=>e(d).Upload),C=t(()=>e(d).Download);var D=Qi(),S=he(D);{let h=t(()=>i()("admin.system_settings")),q=t(()=>[e(T),e(w),e(C)]);oa(S,{get name(){return e(h)},get actions(){return e(q)}})}var U=n(S,2);{let h=t(()=>[{title:N.data.meta.title}]),q=t(()=>[e(T),e(C),e(w)]);la(U,{get breadcrumbs(){return e(h)},get actions(){return e(q)},children:(R,E)=>{da(R,{size:"large",center:!0,children:(L,z)=>{var y=Ii(),c=he(y);{var f=P=>{{let O=t(()=>i()("admin.config_set_by_file"));ua(P,{color:"warning",class:"text-dark my-4",get title(){return e(O)}})}};fe(c,P=>{ce.value.configFile&&P(f)})}var _=n(c,2),m=o(_);{let P=t(()=>i()("search_settings"));sa(m,{get placeholder(){return e(P)},showLoadingSpinner:!1,get name(){return e(s)},set name(O){ie(s,O,!0)}})}l(_);var x=n(_,2);Wt(x,{get queryParam(){return Yt.IS_OPEN},children:(P,O)=>{var V=Pe(),b=he(V);Ve(b,17,()=>e(a),({component:v,title:u,subtitle:g,key:$,icon:p})=>$,(v,u)=>{let g=()=>e(u).component,$=()=>e(u).title,p=()=>e(u).subtitle,M=()=>e(u).key,Q=()=>e(u).icon;de(v,{get title(){return $()},get subtitle(){return p()},get key(){return M()},get icon(){return Q()},children:(X,Z)=>{var pe=Pe(),ye=he(pe);xt(ye,g,(xe,Se)=>{Se(xe,{})}),k(X,pe)},$$slots:{default:!0}})}),k(P,V)},$$slots:{default:!0}}),k(L,y)},$$slots:{default:!0}})},$$slots:{default:!0}})}k(j,D),se(),H()}export{Tr as component,Er as universal};
