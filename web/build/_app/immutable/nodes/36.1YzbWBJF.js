import{a as V}from"../chunks/CJGyQpNN.js";import{g as R,$ as k}from"../chunks/DWQ0JXRY.js";import"../chunks/DsnmJJEf.js";import{p as j,n as W,t as B,g as s,a as F,h as O,j as w,f as I,s as b,c as X,r as Y,u as m}from"../chunks/D0CSSuTl.js";import{s as U}from"../chunks/C8vxa4mj.js";import{t as Z,a as _,f as x}from"../chunks/Bd1JH_Ov.js";import{i as P}from"../chunks/D8NIUdeB.js";import{a as z,s as H}from"../chunks/zonMEKN6.js";import{g as tt}from"../chunks/gvLJu3l0.js";import{U as et}from"../chunks/tK_U6--f.js";import{E as rt}from"../chunks/BcC-f0mZ.js";import{D as st}from"../chunks/DpocfqHG.js";import{g as ot,A as at}from"../chunks/CfdSAoAU.js";import{t as M,h as E}from"../chunks/DLePdI2u.js";import{a$ as nt,b2 as it,b3 as lt}from"../chunks/BP6NvnZ7.js";import{B as ct,cv as J,a4 as mt}from"../chunks/D-UYCH9y.js";import{S as ut}from"../chunks/C9R8P1Xg.js";import{T as pt}from"../chunks/BaHAZRvh.js";import{f as C}from"../chunks/oXVv5nIS.js";import{s as ft}from"../chunks/D1613R3V.js";import"../chunks/CG4KAGH3.js";import{R as dt}from"../chunks/gegweU97.js";import"../chunks/DxRnQWdm.js";import{h as _t}from"../chunks/DUXNbmIP.js";import{m as K}from"../chunks/BHTYC334.js";import{A as gt}from"../chunks/MMtgDOP-.js";const ht=(async({url:e})=>(await V(e),{meta:{title:(await R())("trash")}})),Yt=Object.freeze(Object.defineProperty({__proto__:null,load:ht},Symbol.toStringTag,{value:"Module"})),vt="/_app/immutable/assets/empty-3.CQJfKgye.svg";function $t(e,o){j(o,!0);const t=()=>z(k,"$t",g),[g,h]=H(),{getAssets:i,clearSelect:v}=ot();let r=O(!1);ct(e,{get leadingIcon(){return J},get disabled(){return s(r)},size:"medium",color:"secondary",variant:"ghost",onclick:async()=>{w(r,!0);try{const a=[...i()].map(u=>u.id);await nt({bulkIdsDto:{ids:a}}),o.onRestore?.(a),M.success(t()("assets_restored_count",{values:{count:a.length}})),v()}catch(a){E(a,t()("errors.unable_to_restore_assets"))}finally{w(r,!1)}},children:(a,u)=>{W();var p=Z();B(f=>U(p,f),[()=>t()("restore")]),_(a,p)},$$slots:{default:!0}}),F(),h()}const yt=e=>{const o={title:e("restore_all"),icon:J,onAction:()=>bt()},t={title:e("empty_trash"),icon:mt,onAction:()=>At()};return{RestoreAll:o,Empty:t}},At=async()=>{const e=await R();if(await K.showDialog({prompt:e("empty_trash_confirmation")}))try{const{count:t}=await it();M.success(e("assets_permanently_deleted_count",{values:{count:t}}))}catch(t){E(t,e("errors.unable_to_empty_trash"))}},bt=async()=>{const e=await R();if(await K.showDialog({prompt:e("assets_restore_confirmation")}))try{const{count:t}=await lt();M.success(e("assets_restored_count",{values:{count:t}}))}catch(t){E(t,e("errors.unable_to_restore_trash"))}};var wt=x('<p class="font-medium text-gray-500/60 dark:text-gray-300/60 p-4"> </p>'),Rt=x("<!> <!> <!>",1),xt=x("<!> <!>",1);function Zt(e,o){j(o,!0);const t=()=>z(k,"$t",g),[g,h]=H();let i=O(void 0);const v={isTrashed:!0},r=new gt;C.value.trash||_t(tt(dt.photos()));const T=()=>{if(r.selectionActive){r.clearMultiselect();return}},a=m(()=>yt(t())),u=m(()=>s(a).Empty),p=m(()=>s(a).RestoreAll);var f=xt(),D=I(f);{var N=l=>{{let $=m(()=>r.selectionActive?[]:[s(u),s(p)]);et(l,{get hideNavbar(){return r.selectionActive},get actions(){return s($)},get title(){return o.data.meta.title},scrollbar:!1,children:(S,y)=>{pt(S,{enableRouting:!0,get options(){return v},get assetInteraction(){return r},onEscape:T,get timelineManager(){return s(i)},set timelineManager(n){w(i,n,!0)},empty:n=>{{let d=m(()=>t()("trash_no_results_message"));rt(n,{get text(){return s(d)},get src(){return vt},class:"mt-10 mx-auto"})}},children:(n,d)=>{var c=wt(),G=X(c,!0);Y(c),B(L=>U(G,L),[()=>t()("trashed_items_will_be_permanently_deleted_after",{values:{days:ft.value.trashDays}})]),_(n,c)},$$slots:{empty:!0,default:!0}})},$$slots:{default:!0}})}};P(D,l=>{C.value.trash&&l(N)})}var Q=b(D,2);{var q=l=>{at(l,{get assets(){return r.selectedAssets},clearSelect:()=>r.clearMultiselect(),children:($,S)=>{var y=Rt(),A=I(y);ut(A,{get timelineManager(){return s(i)},get assetInteraction(){return r}});var n=b(A,2);st(n,{force:!0,onAssetDelete:c=>s(i).removeAssets(c)});var d=b(n,2);$t(d,{onRestore:c=>s(i).removeAssets(c)}),_($,y)},$$slots:{default:!0}})};P(Q,l=>{r.selectionActive&&l(q)})}_(e,f),F(),h()}export{Zt as component,Yt as universal};
