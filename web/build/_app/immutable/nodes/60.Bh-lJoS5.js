import{a as ie,u as ne,b as W}from"../chunks/CJGyQpNN.js";import{g as ue,$ as me}from"../chunks/DWQ0JXRY.js";import"../chunks/DsnmJJEf.js";import{p as de,i as p,h as v,f as x,j as f,g as e,u as a,t as w,s as n,a as $e,n as k}from"../chunks/D0CSSuTl.js";import{s as F}from"../chunks/C8vxa4mj.js";import{a as _,t as H,f as L}from"../chunks/Bd1JH_Ov.js";import{i as J}from"../chunks/D8NIUdeB.js";import{s as pe,a as K}from"../chunks/zonMEKN6.js";import{g as ce}from"../chunks/gvLJu3l0.js";import{R as V}from"../chunks/gegweU97.js";import{b as fe}from"../chunks/Rsfk-vdN.js";import{O as X,P as U,Q as _e}from"../chunks/DUXNbmIP.js";import{T as Y,aN as ge}from"../chunks/D-UYCH9y.js";import{F as ve}from"../chunks/BMcevgEe.js";import{F as g}from"../chunks/BgQCgJ0_.js";import{I as A}from"../chunks/s_2UW97Q.js";import{N as he}from"../chunks/XSsqx5Lk.js";import{L as be}from"../chunks/CTSOIQJr.js";import{S as ye}from"../chunks/i7F918yQ.js";const ze=(async({url:h})=>(await ie(h,{admin:!0}),{meta:{title:(await ue())("admin.user_details")}})),We=Object.freeze(Object.defineProperty({__proto__:null,load:ze},Symbol.toStringTag,{value:"Module"}));var Se=L("<!> <!>",1),qe=L(" <!>",1),Be=L("<!> <!> <!> <!> <!> <!>",1);function He(h,b){de(b,!0);const s=()=>K(me,"$t",j),Z=()=>K(ne,"$authUser",j),[j,ee]=pe(),o=p(b.data.user);let y=v(p(o.isAdmin)),z=v(p(o.name)),S=v(p(o.email)),q=v(p(o.storageLabel||""));const te=p(o.quotaSizeInBytes);let u=a(()=>typeof o.quotaSizeInBytes=="number"?_e(o.quotaSizeInBytes,U.GiB):void 0);const B=a(()=>typeof e(u)=="number"?X(e(u),U.GiB):null);let re=a(()=>te!==e(B)&&!!e(B)&&W.serverInfo&&e(B)>W.serverInfo.diskSizeRaw);const O=async()=>{await ce(V.viewUser(o))},ae=async P=>{P.preventDefault(),await fe(o,{email:e(S),name:e(z),storageLabel:e(q),quotaSizeInBytes:typeof e(u)=="number"?X(e(u),U.GiB):null,isAdmin:e(y)})&&await O()};{let P=a(()=>s()("edit_user"));ve(h,{get title(){return e(P)},size:"small",get icon(){return ge},onClose:O,onSubmit:ae,children:(T,Pe)=>{var G=Be(),N=x(G);{let t=a(()=>s()("email"));g(N,{get label(){return e(t)},required:!0,children:(l,i)=>{A(l,{type:"email",get value(){return e(S)},set value(r){f(S,r,!0)}})},$$slots:{default:!0}})}var R=n(N,2);{let t=a(()=>s()("name"));g(R,{get label(){return e(t)},required:!0,class:"mt-4",children:(l,i)=>{A(l,{get value(){return e(z)},set value(r){f(z,r,!0)}})},$$slots:{default:!0}})}var M=n(R,2);{let t=a(()=>s()("admin.quota_size_gib"));g(M,{get label(){return e(t)},class:"mt-4",children:(l,i)=>{var r=Se(),m=x(r);{let d=a(()=>s()("unlimited"));he(m,{min:"0",step:"1",get placeholder(){return e(d)},get value(){return e(u)},set value($){f(u,$)}})}var c=n(m,2);{var I=d=>{Y(d,{size:"small",color:"danger",children:($,D)=>{k();var E=H();w(le=>F(E,le),[()=>s()("errors.quota_higher_than_disk_size")]),_($,E)},$$slots:{default:!0}})};J(c,d=>{e(re)&&d(I)})}_(l,r)},$$slots:{default:!0}})}var Q=n(M,2);{let t=a(()=>s()("storage_label"));g(Q,{get label(){return e(t)},class:"mt-4",children:(l,i)=>{A(l,{get value(){return e(q)},set value(r){f(q,r,!0)}})},$$slots:{default:!0}})}var C=n(Q,2);Y(C,{size:"small",class:"mt-2",color:"muted",children:(t,l)=>{k();var i=qe(),r=x(i),m=n(r);{let c=a(()=>V.queues());be(m,{get href(){return e(c)},children:(I,d)=>{k();var $=H();w(D=>F($,D),[()=>s()("admin.storage_template_migration_job")]),_(I,$)},$$slots:{default:!0}})}w(c=>F(r,`${c??""} `),[()=>s()("admin.note_apply_storage_label_previous_assets")]),_(t,i)},$$slots:{default:!0}});var se=n(C,2);{var oe=t=>{{let l=a(()=>s()("admin.admin_user"));g(t,{get label(){return e(l)},children:(i,r)=>{ye(i,{class:"mt-4",get checked(){return e(y)},set checked(m){f(y,m,!0)}})},$$slots:{default:!0}})}};J(se,t=>{o.id!==Z().id&&t(oe)})}_(T,G)},$$slots:{default:!0}})}$e(),ee()}export{He as component,We as universal};
