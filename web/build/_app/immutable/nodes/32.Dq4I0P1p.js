import{a as st}from"../chunks/CJGyQpNN.js";import{g as ot,$ as lt}from"../chunks/DWQ0JXRY.js";import"../chunks/DsnmJJEf.js";import{p as it,i as u,h as p,f as nt,j as c,g as t,c as m,u as n,s as d,a as dt,t as T,r as _,n as ut}from"../chunks/D0CSSuTl.js";import{s as f}from"../chunks/C8vxa4mj.js";import{a as h,t as pt,f as U}from"../chunks/Bd1JH_Ov.js";import{i as F}from"../chunks/D8NIUdeB.js";import{s as ct,a as mt}from"../chunks/zonMEKN6.js";import{g as _t}from"../chunks/gvLJu3l0.js";import{S as $t}from"../chunks/FpAj0Eak.js";import{R as vt}from"../chunks/gegweU97.js";import{a as ft}from"../chunks/CgXU4mBI.js";import{S as w}from"../chunks/BP6NvnZ7.js";import{X as gt,T as ht}from"../chunks/D-UYCH9y.js";import{F as wt}from"../chunks/BMcevgEe.js";import{F as $}from"../chunks/BgQCgJ0_.js";import{I as J}from"../chunks/s_2UW97Q.js";import{P as xt}from"../chunks/BzOEcAd-.js";import{S as M}from"../chunks/i7F918yQ.js";const bt=(async({url:x})=>(await st(x),{meta:{title:(await ot())("shared_links")}})),Ht=Object.freeze(Object.defineProperty({__proto__:null,load:bt},Symbol.toStringTag,{value:"Module"}));var kt=U('<div class="text-sm"> <span class="text-primary"> </span></div>'),yt=U('<div class="text-sm"> <span class="text-primary"> </span></div>'),Pt=U('<!> <!> <div class="flex flex-col gap-4 mt-4"><div><!> <!></div> <!> <!> <!> <!> <!> <!></div>',1);function Jt(x,b){it(b,!0);const o=()=>mt(lt,"$t",K),[K,Q]=ct(),l=u(b.data.sharedLink);let k=p(u(l.description??"")),y=p(u(l.allowDownload)),P=p(u(l.allowUpload)),g=p(u(l.showMetadata)),S=p(u(l.password??"")),v=p(u(l.slug??"")),j=l.album?w.Album:w.Individual,A=p(u(l.expiresAt));const z=async()=>{await _t(vt.sharedLinks())},V=async()=>{await ft(l,{description:t(k),password:t(S)??null,expiresAt:t(A),allowUpload:t(P),allowDownload:t(y),showMetadata:t(g),slug:t(v).trim()??null})&&await z()};{let D=n(()=>o()("edit_link")),W=n(()=>o()("confirm"));wt(x,{get title(){return t(D)},get icon(){return gt},onClose:z,onSubmit:V,get submitText(){return t(W)},size:"small",children:(Y,St)=>{var R=Pt(),C=nt(R);{var Z=e=>{var r=kt(),s=m(r),a=d(s),i=m(a,!0);_(a),_(r),T(I=>{f(s,`${I??""} | `),f(i,l.album?.albumName)},[()=>o()("public_album")]),h(e,r)};F(C,e=>{j===w.Album&&e(Z)})}var O=d(C,2);{var tt=e=>{var r=yt(),s=m(r),a=d(s),i=m(a,!0);_(a),_(r),T(I=>{f(s,`${I??""} | `),f(i,l.description||"")},[()=>o()("individual_share")]),h(e,r)};F(O,e=>{j===w.Individual&&e(tt)})}var E=d(O,2),L=m(E),N=m(L);{let e=n(()=>o()("custom_url")),r=n(()=>o()("shared_link_custom_url_description"));$(N,{get label(){return t(e)},get description(){return t(r)},children:(s,a)=>{J(s,{autocomplete:"off",get value(){return t(v)},set value(i){c(v,i,!0)}})},$$slots:{default:!0}})}var et=d(N,2);{var rt=e=>{ht(e,{size:"tiny",color:"muted",class:"pt-2",children:(r,s)=>{ut();var a=pt();T(i=>f(a,`/s/${i??""}`),[()=>encodeURIComponent(t(v))]),h(r,a)},$$slots:{default:!0}})};F(et,e=>{t(v)&&e(rt)})}_(L);var X=d(L,2);{let e=n(()=>o()("password")),r=n(()=>o()("shared_link_password_description"));$(X,{get label(){return t(e)},get description(){return t(r)},children:(s,a)=>{xt(s,{autocomplete:"new-password",get value(){return t(S)},set value(i){c(S,i,!0)}})},$$slots:{default:!0}})}var q=d(X,2);{let e=n(()=>o()("description"));$(q,{get label(){return t(e)},children:(r,s)=>{J(r,{autocomplete:"off",get value(){return t(k)},set value(a){c(k,a,!0)}})},$$slots:{default:!0}})}var B=d(q,2);$t(B,{get createdAt(){return l.createdAt},get expiresAt(){return t(A)},set expiresAt(e){c(A,e,!0)}});var G=d(B,2);{let e=n(()=>o()("show_metadata"));$(G,{get label(){return t(e)},children:(r,s)=>{M(r,{get checked(){return t(g)},set checked(a){c(g,a,!0)}})},$$slots:{default:!0}})}var H=d(G,2);{let e=n(()=>o()("allow_public_user_to_download")),r=n(()=>!t(g));$(H,{get label(){return t(e)},get disabled(){return t(r)},children:(s,a)=>{M(s,{get checked(){return t(y)},set checked(i){c(y,i,!0)}})},$$slots:{default:!0}})}var at=d(H,2);{let e=n(()=>o()("allow_public_user_to_upload"));$(at,{get label(){return t(e)},children:(r,s)=>{M(r,{get checked(){return t(P)},set checked(a){c(P,a,!0)}})},$$slots:{default:!0}})}_(E),h(Y,R)},$$slots:{default:!0}})}dt(),Q()}export{Jt as component,Ht as universal};
