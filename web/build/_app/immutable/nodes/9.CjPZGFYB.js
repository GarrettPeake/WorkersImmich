import{r as x2,R as Q}from"../chunks/gegweU97.js";import{a as w2}from"../chunks/CJGyQpNN.js";import{g as P2,$ as A2}from"../chunks/DWQ0JXRY.js";import{B as C2,y as M2}from"../chunks/BP6NvnZ7.js";import"../chunks/DsnmJJEf.js";import{p as z2,h as S2,i as L2,f as B,g as t,t as T,c as l,u as e,s as o,a as D2,j as F2,b as O2,n as R,r as s}from"../chunks/D0CSSuTl.js";import{s as G}from"../chunks/C8vxa4mj.js";import{s as k2}from"../chunks/CMI33r64.js";import{i as H2}from"../chunks/D8NIUdeB.js";import{e as d2}from"../chunks/DLePdI2u.js";import{t as W,a as n,f as h,c as U2}from"../chunks/Bd1JH_Ov.js";import{s as j2,a as B2}from"../chunks/zonMEKN6.js";import{g as T2}from"../chunks/gvLJu3l0.js";import{A as c2}from"../chunks/BKrzsNSY.js";import{A as R2}from"../chunks/CaRu5ymf.js";import{O as G2}from"../chunks/Cq6696VF.js";import{S as I}from"../chunks/COjsYhP1.js";import{E as W2}from"../chunks/BcC-f0mZ.js";import{T as S}from"../chunks/DpgobuAR.js";import{L as I2,c as Q2,d as V2,g as q2}from"../chunks/Bat68L0B.js";import{u as J2}from"../chunks/DUXNbmIP.js";import{aP as K2,aQ as N2,aR as X2,aS as Y2,aT as Z2}from"../chunks/D-UYCH9y.js";import{C as t0}from"../chunks/CG2BHJh0.js";import{C as e0}from"../chunks/cX31cXxY.js";import{H as r0}from"../chunks/Tw41aoDi.js";import{C as f2}from"../chunks/DZu0po9D.js";import{m as a0}from"../chunks/BHTYC334.js";const o0=(async({params:{id:w},url:u})=>{await w2(u,{admin:!0});let r;try{r=await C2({id:w})}catch{x2(307,Q.libraries())}const L=await M2({id:w}),D=await P2();return{library:r,statistics:L,meta:{title:D("admin.library_details")}}}),R0=Object.freeze(Object.defineProperty({__proto__:null,load:o0},Symbol.toStringTag,{value:"Module"})),s0="data:image/svg+xml,%3csvg%20width='900'%20height='600'%20viewBox='0%200%20900%20600'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='transparent'%20d='M0%200h900v600H0z'/%3e%3cpath%20d='M718.697%20359.789c2.347%2069.208-149.828%20213.346-331.607%20165.169-84.544-22.409-76.298-62.83-139.698-114.488-37.789-30.789-92.638-53.5-106.885-99.138-12.309-39.393-3.044-82.222%2020.77-110.466%2053.556-63.52%20159.542-108.522%20260.374-12.465%20100.832%2096.056%20290.968-7.105%20297.046%20171.388z'%20fill='url(%23a)'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M629.602%20207.307v-51.154c0-28.251-22.902-51.153-51.154-51.153H322.681c-28.251%200-51.153%2022.902-51.153%2051.153v127.884'%20fill='%23fff'/%3e%3cpath%20d='M629.602%20207.307v-51.154c0-28.251-22.902-51.153-51.154-51.153H322.681c-28.251%200-51.153%2022.902-51.153%2051.153v127.884'%20stroke='%23E1E4E5'%20stroke-width='4.13'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M271.528%20216.252h165.353a25.578%2025.578%200%200%200%2021.28-11.382l35.884-53.941a25.575%2025.575%200%200%201%2021.357-11.407h114.2c28.251%200%2051.154%2022.902%2051.154%2051.153v255.767c0%2028.252-22.903%2051.154-51.154%2051.154H271.528c-28.251%200-51.154-22.902-51.154-51.154V267.405c0-28.251%2022.903-51.153%2051.154-51.153z'%20fill='%23fff'%20stroke='%23E1E4E5'%20stroke-width='4.13'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M320.022%20432.016v3.968h3.964A3.028%203.028%200%200%201%20327%20439a3.028%203.028%200%200%201-3.014%203.016h-3.964v3.968a3.028%203.028%200%200%201-3.014%203.016%203.029%203.029%200%200%201-3.014-3.016v-3.951h-3.98a3.029%203.029%200%200%201-3.014-3.017%203.029%203.029%200%200%201%203.014-3.016h3.964v-3.984a3.031%203.031%200%200%201%203.03-3.016%203.028%203.028%200%200%201%203.014%203.016zm-33.14-27.793v5.554h5.748c2.399%200%204.37%201.905%204.37%204.223%200%202.318-1.971%204.223-4.37%204.223h-5.748v5.554c0%202.318-1.971%204.223-4.37%204.223s-4.37-1.905-4.37-4.223v-5.531h-5.772c-2.399%200-4.37-1.905-4.37-4.223%200-2.318%201.971-4.223%204.37-4.223h5.748v-5.577c0-2.318%201.971-4.223%204.394-4.223%202.399%200%204.37%201.905%204.37%204.223z'%20fill='%23E1E4E5'/%3e%3ccircle%20cx='451.101'%20cy='358.294'%20r='98.899'%20fill='%23aaa'/%3e%3crect%20x='444.142'%20y='322.427'%20width='13.918'%20height='71.734'%20rx='6.959'%20fill='%23fff'/%3e%3crect%20x='486.968'%20y='351.335'%20width='13.918'%20height='71.734'%20rx='6.959'%20transform='rotate(90%20486.968%20351.335)'%20fill='%23fff'/%3e%3cellipse%20rx='13.917'%20ry='13.254'%20transform='matrix(-1%200%200%201%20718.227%20479.149)'%20fill='%23E1E4E5'/%3e%3ccircle%20r='4.639'%20transform='matrix(-1%200%200%201%20292.465%20519.783)'%20fill='%23E1E4E5'/%3e%3ccircle%20r='6.627'%20transform='matrix(-1%200%200%201%20566.399%20205.929)'%20fill='%23E1E4E5'/%3e%3ccircle%20r='6.476'%20transform='scale(1%20-1)%20rotate(-75%20-180.786%20-314.12)'%20fill='%23E1E4E5'/%3e%3ccircle%20r='8.615'%20transform='matrix(-1%200%200%201%20217.158%20114.719)'%20fill='%23E1E4E5'/%3e%3cellipse%20rx='6.627'%20ry='5.302'%20transform='matrix(-1%200%200%201%20704.513%20233.511)'%20fill='%23E1E4E5'/%3e%3cpath%20d='M186.177%20456.259h.174c1.026%2014.545%2011.844%2014.769%2011.844%2014.769s-11.929.233-11.929%2017.04c0-16.807-11.929-17.04-11.929-17.04s10.814-.224%2011.84-14.769zm574.334-165.951h.18c1.067%2015.36%2012.309%2015.596%2012.309%2015.596s-12.397.246-12.397%2017.994c0-17.748-12.396-17.994-12.396-17.994s11.237-.236%2012.304-15.596z'%20fill='%23E1E4E5'/%3e%3cdefs%3e%3clinearGradient%20id='a'%20x1='530.485'%20y1='779.032'%20x2='277.414'%20y2='-357.319'%20gradientUnits='userSpaceOnUse'%3e%3cstop%20stop-color='%23fff'/%3e%3cstop%20offset='1'%20stop-color='%23EEE'/%3e%3c/linearGradient%3e%3c/defs%3e%3c/svg%3e";var i0=h('<tr class="h-12"><td><!></td><td class="flex gap-2 justify-end"><!> <!></td></tr>'),l0=h('<table class="w-full"><tbody></tbody></table>'),n0=h('<tr class="h-12"><td><!></td><td class="flex gap-2 justify-end"><!> <!></td></tr>'),d0=h('<table class="w-full"><tbody></tbody></table>'),c0=h('<div class="grid gap-4 grid-cols-1 lg:grid-cols-2 w-full"><!> <div class="flex flex-col lg:flex-row gap-4 col-span-full"><!> <!> <!></div> <!> <!></div> <!>',1),f0=h("<!> <!> <!>",1);function G0(w,u){z2(u,!0);const r=()=>B2(A2,"$t",L),[L,D]=j2(),F=u.data.statistics,[m2,u2]=J2(F.usage);let a=S2(L2(u.data.library));const v2=d=>{d.id===t(a).id&&F2(a,d,!0)},p2=async({id:d})=>{d===t(a).id&&await T2(Q.libraries())},_=e(()=>q2(r(),t(a))),V=e(()=>t(_).Edit),q=e(()=>t(_).Delete),J=e(()=>t(_).AddFolder),K=e(()=>t(_).AddExclusionPattern),N=e(()=>t(_).Scan);var X=f0(),Y=B(X);G2(Y,{onLibraryUpdate:v2,onLibraryDelete:p2});var Z=o(Y,2);{let d=e(()=>r()("library")),O=e(()=>[t(V),t(q),t(J),t(K),t(N)]);t0(Z,{get name(){return t(d)},get actions(){return t(O)}})}var g2=o(Z,2);{let d=e(()=>[{title:r()("external_libraries"),href:Q.libraries()},{title:t(a).name}]),O=e(()=>[t(N),t(V),t(q)]);R2(g2,{get breadcrumbs(){return t(d)},get actions(){return t(O)},children:(h2,m0)=>{e0(h2,{size:"large",center:!0,children:(_2,u0)=>{var t2=c0(),k=B(t2),e2=l(k);r0(e2,{tag:"h1",size:"large",class:"col-span-full my-4",children:(i,P)=>{R();var A=W();T(()=>G(A,t(a).name)),n(i,A)},$$slots:{default:!0}});var H=o(e2,2),r2=l(H);{let i=e(()=>r()("photos"));I(r2,{get icon(){return K2},get title(){return t(i)},get value(){return F.photos}})}var a2=o(r2,2);{let i=e(()=>r()("videos"));I(a2,{get icon(){return N2},get title(){return t(i)},get value(){return F.videos}})}var $2=o(a2,2);{let i=e(()=>r()("usage"));I($2,{get icon(){return X2},get title(){return t(i)},get value(){return m2},get unit(){return u2}})}s(H);var o2=o(H,2);{let i=e(()=>r()("folders"));c2(o2,{get icon(){return Y2},get title(){return t(i)},get headerAction(){return t(J)},children:(P,A)=>{var v=U2(),C=B(v);{var $=c=>{{let p=e(()=>r()("admin.library_folder_description"));W2(c,{get src(){return s0},get text(){return t(p)},fullWidth:!0,onClick:()=>a0.show(I2,{library:t(a)})})}},M=c=>{var p=l0(),y=l(p);d2(y,20,()=>t(a).importPaths,f=>f,(f,g,s2,U)=>{const E=e(()=>{const{Edit:j,Delete:l2}=Q2(r(),t(a),g);return{Edit:j,Delete:l2}});var b=i0(),m=l(b),z=l(m);f2(z,{children:(j,l2)=>{R();var n2=W();T(()=>G(n2,g)),n(j,n2)},$$slots:{default:!0}}),s(m);var x=o(m),i2=l(x);S(i2,{get action(){return t(E).Edit}});var b2=o(i2,2);S(b2,{get action(){return t(E).Delete}}),s(x),s(b),n(f,b)}),s(y),s(p),n(c,p)};H2(C,c=>{t(a).importPaths.length===0?c($):c(M,!1)})}n(P,v)}})}var y2=o(o2,2);{let i=e(()=>r()("exclusion_pattern"));c2(y2,{get icon(){return Z2},get title(){return t(i)},get headerAction(){return t(K)},children:(P,A)=>{var v=d0(),C=l(v);d2(C,20,()=>t(a).exclusionPatterns,$=>$,($,M,c,p)=>{const y=e(()=>{const{Edit:m,Delete:z}=V2(r(),t(a),M);return{Edit:m,Delete:z}});var f=n0(),g=l(f),s2=l(g);f2(s2,{children:(m,z)=>{R();var x=W();T(()=>G(x,M)),n(m,x)},$$slots:{default:!0}}),s(g);var U=o(g),E=l(U);S(E,{get action(){return t(y).Edit}});var b=o(E,2);S(b,{get action(){return t(y).Delete}}),s(U),s(f),n($,f)}),s(C),s(v),n(P,v)}})}s(k);var E2=o(k,2);k2(E2,()=>u.children??O2),n(_2,t2)},$$slots:{default:!0}})},$$slots:{default:!0}})}n(w,X),D2(),D()}export{G0 as component,R0 as universal};
