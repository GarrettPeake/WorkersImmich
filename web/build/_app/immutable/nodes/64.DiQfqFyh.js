import{R as V}from"../chunks/gegweU97.js";import{a as J}from"../chunks/CJGyQpNN.js";import{g as K,$ as N}from"../chunks/DWQ0JXRY.js";import{G as Q,Z as W}from"../chunks/BP6NvnZ7.js";import"../chunks/DsnmJJEf.js";import{p as X,a as Y,g as n,s as v,t as f,c as s,f as B,j as y,u as tt,h as L,r as o,n as et}from"../chunks/D0CSSuTl.js";import{s as O}from"../chunks/C8vxa4mj.js";import{t as at,a as l,f as _}from"../chunks/Bd1JH_Ov.js";import{i as I}from"../chunks/D8NIUdeB.js";import{B as rt,a as j,aO as st,a8 as ot,F as it,ad as nt,a9 as lt,q as R,p as ct}from"../chunks/D-UYCH9y.js";import{s as dt,a as pt}from"../chunks/zonMEKN6.js";import{g as T}from"../chunks/gvLJu3l0.js";import{A as ut}from"../chunks/aAP1iED5.js";import{P as mt,a as vt}from"../chunks/BTAXfAJZ.js";import{h as ft}from"../chunks/DLePdI2u.js";const _t=(async({url:g})=>{await J(g);const{pinCode:c}=await Q();return{meta:{title:(await K())("pin_verification")},hasPinCode:!!c,continueUrl:g.searchParams.get("continue")||V.locked()}}),Rt=Object.freeze(Object.defineProperty({__proto__:null,load:_t},Symbol.toStringTag,{value:"Module"}));var gt=_("<div><!></div>"),ht=_("<div><!></div>"),xt=_('<!> <p class="text-center text-sm" style="text-wrap: pretty;"> </p> <!>',1),yt=_('<div class="text-primary"><!></div> <p class="text-center text-sm mb-4" style="text-wrap: pretty;"> </p> <!>',1),wt=_('<div class="flex items-center justify-center"><div class="w-96 flex flex-col gap-6 items-center justify-center"><!> <div><!></div></div></div>');function Tt(g,c){X(c,!0);const d=()=>pt(N,"$t",q),[q,D]=dt();let z=L(!1),w=L(!1),P=tt(()=>c.data.hasPinCode),A=L("");const E=async b=>{try{await W({sessionUnlockDto:{pinCode:b}}),y(z,!0),await new Promise(h=>setTimeout(h,1e3)),await T(c.data.continueUrl)}catch(h){ft(h,d()("wrong_pin_code")),y(w,!0)}};ut(g,{withHeader:!1,children:(b,h)=>{var C=wt(),F=s(C),U=s(F);{var G=r=>{var i=xt(),e=B(i);{var p=t=>{var a=gt(),x=s(a);j(x,{get icon(){return ot},size:"64",class:"text-success/90"}),o(a),it(1,a,()=>nt,()=>({duration:200})),l(t,a)},u=t=>{var a=ht();let x;var Z=s(a);j(Z,{get icon(){return lt},size:"64"}),o(a),f(()=>x=R(a,1,"",null,x,{"text-danger":n(w),"text-primary":!n(w)})),l(t,a)};I(e,t=>{n(z)?t(p):t(u,!1)})}var m=v(e,2),k=s(m,!0);o(m);var S=v(m,2);mt(S,{type:"password",autofocus:!0,label:"",tabindexStart:1,pinLength:6,onFilled:E,get value(){return n(A)},set value(t){y(A,t,!0)}}),f(t=>O(k,t),[()=>d()("enter_your_pin_code_subtitle")]),l(r,i)},H=r=>{var i=yt(),e=B(i),p=s(e);j(p,{get icon(){return st},size:"64"}),o(e);var u=v(e,2),m=s(u,!0);o(u);var k=v(u,2);vt(k,{showLabel:!1,onCreated:()=>y(P,!0)}),f(S=>O(m,S),[()=>d()("new_pin_code_subtitle")]),l(r,i)};I(U,r=>{n(P)?r(G):r(H,!1)})}var $=v(U,2),M=s($);rt(M,{type:"button",color:"secondary",onclick:()=>T(V.photos()),children:(r,i)=>{et();var e=at();f(p=>O(e,p),[()=>d()("cancel")]),l(r,e)},$$slots:{default:!0}}),o($),o(F),o(C),f(()=>R($,1,ct(n(P)?"":"flex w-full items-start"))),l(b,C)},$$slots:{default:!0}}),Y(),D()}export{Tt as component,Rt as universal};
