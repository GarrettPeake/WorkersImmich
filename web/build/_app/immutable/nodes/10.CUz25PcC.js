import{a as fe,r as pe}from"../chunks/CJGyQpNN.js";import{g as ve,$ as ge}from"../chunks/DWQ0JXRY.js";import{w as te}from"../chunks/BP6NvnZ7.js";import"../chunks/DsnmJJEf.js";import{p as _e,h as he,i as we,f as _,g as e,t as h,s as d,a as Pe,j as Z,u as n,b as be,n as U,c as xe,r as ye}from"../chunks/D0CSSuTl.js";import{s as w}from"../chunks/C8vxa4mj.js";import{s as Ae}from"../chunks/CMI33r64.js";import{i as Ue}from"../chunks/D8NIUdeB.js";import{e as Ce}from"../chunks/DLePdI2u.js";import{t as P,a as t,c as Te,f as b}from"../chunks/Bd1JH_Ov.js";import{s as De,a as ee}from"../chunks/zonMEKN6.js";import{A as Ie}from"../chunks/CaRu5ymf.js";import{O as ze}from"../chunks/Cq6696VF.js";import{R as Se}from"../chunks/gegweU97.js";import{g as Be,a as Re}from"../chunks/Rsfk-vdN.js";import{v as je,l as qe}from"../chunks/DUXNbmIP.js";import{a as ke,af as Oe,ae as Le}from"../chunks/D-UYCH9y.js";import{C as Me}from"../chunks/CG2BHJh0.js";import{C as Fe}from"../chunks/cX31cXxY.js";import{T as He,a as Ee,b as q,c as Ge,d as Je,e as z}from"../chunks/B5_uSbnk.js";import{L as Ke}from"../chunks/CTSOIQJr.js";import{C as Ne}from"../chunks/DCkJo5DD.js";const Qe=(async({url:S})=>{await fe(S,{admin:!0}),await pe();const f=await te({withDeleted:!0}),l=await ve();return{users:f,meta:{title:l("admin.user_management")}}}),yt=Object.freeze(Object.defineProperty({__proto__:null,load:Qe},Symbol.toStringTag,{value:"Module"}));var Ve=b("<!> <!> <!>",1),We=b('<div class="container mx-auto flex flex-wrap justify-center"><!></div>'),Xe=b("<!> <!> <!> <!>",1),Ye=b("<!> <!>",1),Ze=b("<!> <!>",1),et=b("<!> <!> <!>",1);function At(S,f){_e(f,!0);const l=()=>ee(ge,"$t",k),re=()=>ee(qe,"$locale",k),[k,ae]=De();let p=he(we(f.data.users));const C=async r=>{const a=e(p).findIndex(({id:x})=>x===r.id);a===-1?Z(p,await te({withDeleted:!0}),!0):e(p)[a]=r},se=({id:r})=>{Z(p,e(p).filter(({id:a})=>a!==r),!0)},oe=n(()=>Re(l())),O=n(()=>e(oe).Create),ne=r=>{const{Detail:a,Update:x,Delete:H,ResetPassword:B,ResetPinCode:E}=Be(l(),r);return[a,x,B,E,Le.Divider,H]},u={column1:"w-8/12 md:w-5/12 lg:w-4/12",column2:"hidden md:block md:w-5/12 lg:w-4/12",column3:"hidden lg:block lg:w-2/12",column4:"w-4/12 md:w-2/12 flex justify-end"};var L=et(),M=_(L);ze(M,{onUserAdminCreate:C,onUserAdminUpdate:C,onUserAdminDelete:C,onUserAdminRestore:C,onUserAdminDeleted:se});var F=d(M,2);{let r=n(()=>l()("users")),a=n(()=>[e(O)]);Me(F,{get name(){return e(r)},get actions(){return e(a)}})}var le=d(F,2);{let r=n(()=>[{title:f.data.meta.title}]),a=n(()=>[e(O)]);Ie(le,{get breadcrumbs(){return e(r)},get actions(){return e(a)},children:(x,H)=>{Fe(x,{center:!0,size:"large",children:(B,E)=>{var G=Ze(),J=_(G);He(J,{class:"mt-4",striped:!0,spacing:"small",size:"small",children:(de,tt)=>{var K=Ye(),N=_(K);Ee(N,{children:(R,ue)=>{var y=Ve(),T=_(y);q(T,{get class(){return u.column1},children:(c,D)=>{U();var i=P();h(m=>w(i,m),[()=>l()("name")]),t(c,i)},$$slots:{default:!0}});var v=d(T,2);q(v,{get class(){return u.column2},children:(c,D)=>{U();var i=P();h(m=>w(i,m),[()=>l()("email")]),t(c,i)},$$slots:{default:!0}});var s=d(v,2);q(s,{get class(){return u.column3},children:(c,D)=>{U();var i=P();h(m=>w(i,m),[()=>l()("has_quota")]),t(c,i)},$$slots:{default:!0}}),t(R,y)},$$slots:{default:!0}});var me=d(N,2);Ge(me,{children:(R,ue)=>{var y=Te(),T=_(y);Ce(T,17,()=>e(p),v=>v.id,(v,s)=>{{let c=n(()=>e(s).deletedAt?"danger":void 0);Je(v,{get color(){return e(c)},children:(D,i)=>{var m=Xe(),Q=_(m);z(Q,{get class(){return u.column1},children:($,j)=>{{let o=n(()=>Se.viewUser(e(s)));Ke($,{get href(){return e(o)},children:(A,X)=>{U();var I=P();h(()=>w(I,e(s).name)),t(A,I)},$$slots:{default:!0}})}},$$slots:{default:!0}});var V=d(Q,2);z(V,{get class(){return u.column2},children:($,j)=>{U();var o=P();h(()=>w(o,e(s).email)),t($,o)},$$slots:{default:!0}});var W=d(V,2);z(W,{get class(){return u.column3},children:($,j)=>{var o=We(),A=xe(o);{var X=g=>{var Y=P();h($e=>w(Y,$e),[()=>je(e(s).quotaSizeInBytes,re())]),t(g,Y)},I=g=>{ke(g,{get icon(){return Oe},size:"16"})};Ue(A,g=>{e(s).quotaSizeInBytes!==null&&e(s).quotaSizeInBytes>=0?g(X):g(I,!1)})}ye(o),t($,o)},$$slots:{default:!0}});var ce=d(W,2);z(ce,{get class(){return u.column4},children:($,j)=>{{let o=n(()=>l()("open")),A=n(()=>ne(e(s)));Ne($,{color:"primary",get"aria-label"(){return e(o)},get items(){return e(A)}})}},$$slots:{default:!0}}),t(D,m)},$$slots:{default:!0}})}}),t(R,y)},$$slots:{default:!0}}),t(de,K)},$$slots:{default:!0}});var ie=d(J,2);Ae(ie,()=>f.children??be),t(B,G)},$$slots:{default:!0}})},$$slots:{default:!0}})}t(S,L),Pe(),ae()}export{At as component,yt as universal};
