import{r as E,R as G}from"../chunks/gegweU97.js";import{a as J,u as k}from"../chunks/CJGyQpNN.js";import{g as K,$ as N}from"../chunks/DWQ0JXRY.js";import{d as Q,p as V,a as Y,f as q,t as h,s as d,j as B,g as t,c as Z,u as m,h as C,n as v,r as tt}from"../chunks/D0CSSuTl.js";import"../chunks/DsnmJJEf.js";import{s as w,e as et}from"../chunks/C8vxa4mj.js";import{t as P,a,f as S}from"../chunks/Bd1JH_Ov.js";import{s as rt,a as H}from"../chunks/zonMEKN6.js";import{A as st}from"../chunks/aAP1iED5.js";import{a as at}from"../chunks/DxRnQWdm.js";import{X as ot}from"../chunks/BP6NvnZ7.js";import{A as lt}from"../chunks/B2XNhc0s.js";import{S as nt}from"../chunks/Tw41aoDi.js";import{T as O,B as ut}from"../chunks/D-UYCH9y.js";import{F as R}from"../chunks/BgQCgJ0_.js";import{P as U}from"../chunks/BzOEcAd-.js";import{H as it}from"../chunks/Dt4pkAJO.js";const dt=(async({url:x})=>(await J(x),Q(k).shouldChangePassword||E(307,G.photos()),{meta:{title:(await K())("change_password")}})),qt=Object.freeze(Object.defineProperty({__proto__:null,load:dt},Symbol.toStringTag,{value:"Module"}));var mt=S("<!> <!>",1),pt=S("<!> <!>",1),$t=S('<form class="flex flex-col gap-4"><!> <!> <!> <!></form>');function Bt(x,b){V(b,!0);const o=()=>H(N,"$t",T),A=()=>H(k,"$user",T),[T,D]=rt();let p=C(""),n=C("");const y=m(()=>t(p)===t(n)&&t(n).length>0),I=m(()=>t(n).length===0||t(y)?"":o()("password_does_not_match")),L=async()=>{t(y)&&(await ot({userUpdateMeDto:{password:t(p)}}),await at.logout())};st(x,{get title(){return b.data.meta.title},children:(W,ft)=>{var $=$t(),j=Z($);lt(j,{color:"primary",size:"small",class:"mb-2",children:(r,l)=>{nt(r,{gap:4,children:(f,e)=>{var s=mt(),c=q(s);O(c,{children:(_,g)=>{v();var i=P();h(M=>w(i,M),[()=>o()("hi_user",{values:{name:A().name,email:A().email}})]),a(_,i)},$$slots:{default:!0}});var u=d(c,2);O(u,{children:(_,g)=>{v();var i=P();h(M=>w(i,M),[()=>o()("change_password_description")]),a(_,i)},$$slots:{default:!0}}),a(f,s)},$$slots:{default:!0}})},$$slots:{default:!0}});var z=d(j,2);{let r=m(()=>o()("new_password"));R(z,{get label(){return t(r)},required:!0,children:(l,f)=>{U(l,{autocomplete:"new-password",get value(){return t(p)},set value(e){B(p,e,!0)}})},$$slots:{default:!0}})}var F=d(z,2);{let r=m(()=>o()("confirm_password"));R(F,{get label(){return t(r)},required:!0,children:(l,f)=>{var e=pt(),s=q(e);U(s,{autocomplete:"new-password",get value(){return t(n)},set value(u){B(n,u,!0)}});var c=d(s,2);it(c,{color:"danger",children:(u,_)=>{v();var g=P();h(()=>w(g,t(I))),a(u,g)},$$slots:{default:!0}}),a(l,e)},$$slots:{default:!0}})}var X=d(F,2);{let r=m(()=>!t(y));ut(X,{class:"mt-2",type:"submit",size:"large",shape:"round",fullWidth:!0,get disabled(){return t(r)},children:(l,f)=>{v();var e=P();h(s=>w(e,s),[()=>o()("to_change_password")]),a(l,e)},$$slots:{default:!0}})}tt($),et("submit",$,L),a(W,$)},$$slots:{default:!0}}),Y(),D()}export{Bt as component,qt as universal};
