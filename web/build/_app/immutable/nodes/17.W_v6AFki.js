import{a as de}from"../chunks/CJGyQpNN.js";import{g as ne,$ as ve}from"../chunks/DWQ0JXRY.js";import{D as ce,E as fe,F as pe}from"../chunks/BP6NvnZ7.js";import"../chunks/DsnmJJEf.js";import{p as ue,i as _e,f as z,a as ge,s,g as e,t as E,u as O,c as t,r as a}from"../chunks/D0CSSuTl.js";import{s as b}from"../chunks/C8vxa4mj.js";import{a as d,f as h,c as X}from"../chunks/Bd1JH_Ov.js";import{i as T}from"../chunks/D8NIUdeB.js";import{e as Y}from"../chunks/DLePdI2u.js";import{s as w,a as he,ai as xe}from"../chunks/D-UYCH9y.js";import{s as be,a as we}from"../chunks/zonMEKN6.js";import{I as ye}from"../chunks/CLpfTz4o.js";import{U as ke}from"../chunks/tK_U6--f.js";import{O as $e}from"../chunks/Cq6696VF.js";import{E as Pe}from"../chunks/BcC-f0mZ.js";import{S as Z}from"../chunks/eS1Q_jdJ.js";import{R as A}from"../chunks/gegweU97.js";import{x as Se,y as je}from"../chunks/DUXNbmIP.js";const Fe=(async({url:C})=>{await de(C);const[n,v]=await Promise.all([ce(),fe({withHidden:!1})]),U=await ne();return{items:n,response:v,meta:{title:U("explore")}}}),et=Object.freeze(Object.defineProperty({__proto__:null,load:Fe},Symbol.toStringTag,{value:"Module"}));var Ie=h('<div class="absolute top-2 start-2"><!></div>'),ze=h('<a class="text-center relative"><!> <!> <p class="mt-2 text-ellipsis text-sm font-medium dark:text-white"> </p></a>'),Ee=h('<div class="mb-6 mt-2"><div class="flex justify-between"><p class="mb-4 font-medium dark:text-immich-dark-fg"> </p> <a class="pe-4 text-sm font-medium hover:text-immich-primary dark:text-immich-dark-fg dark:hover:text-immich-dark-primary" draggable="false"> </a></div> <!></div>'),Oe=h('<a class="relative" draggable="false"><div class="flex justify-center overflow-hidden rounded-xl brightness-75 filter"><img class="object-cover aspect-square w-full"/></div> <span class="absolute bottom-2 w-full text-ellipsis px-1 text-center text-sm font-medium capitalize text-white backdrop-blur-[1px] hover:cursor-pointer"> </span></a>'),Te=h('<div class="mb-6 mt-2"><div class="flex justify-between"><p class="mb-4 font-medium dark:text-immich-dark-fg"> </p> <a class="pe-4 text-sm font-medium hover:text-immich-primary dark:text-immich-dark-fg dark:hover:text-immich-dark-primary" draggable="false"> </a></div> <!></div>'),Ae=h("<!> <!> <!>",1),Ce=h("<!> <!>",1);function tt(C,n){ue(n,!0);const v=()=>we(ve,"$t",U),[U,ee]=be(),te=(y,k)=>y.find(j=>j.fieldName===k)?.items||[];let D=O(()=>te(n.data.items,"exifInfo.city")),K=_e(n.data.response.people),L=O(()=>n.data.response.total>0);const ae=({id:y})=>{for(const k of K)k.id===y&&(k.updatedAt=new Date().toISOString())};var Q=Ce(),V=z(Q);$e(V,{onPersonThumbnailReady:ae});var re=s(V,2);ke(re,{get title(){return n.data.meta.title},children:(y,k)=>{var M=Ae(),j=z(M);{var ie=r=>{var o=Ee(),c=t(o),f=t(c),R=t(f,!0);a(f);var p=s(f,2),H=t(p,!0);a(p),a(c);var q=s(c,2);Z(q,{class:"grid grid-flow-col md:grid-auto-fill-28 grid-auto-fill-20 gap-x-4",children:(u,_)=>{let N=()=>_?.().itemCount;var P=X(),B=z(P);Y(B,17,()=>K.slice(0,N()),g=>g.id,(g,i)=>{var l=ze(),x=t(l);{let m=O(()=>Se(e(i)));ye(x,{circle:!0,shadow:!0,get url(){return e(m)},get altText(){return e(i).name},widthStyle:"100%"})}var S=s(x,2);{var F=m=>{var J=Ie(),me=t(J);he(me,{get icon(){return xe},size:"24",class:"text-white"}),a(J),d(m,J)};T(S,m=>{e(i).isFavorite&&m(F)})}var I=s(S,2),G=t(I,!0);a(I),a(l),E(m=>{w(l,"href",m),b(G,e(i).name)},[()=>A.viewPerson(e(i))]),d(g,l)}),d(u,P)},$$slots:{default:!0}}),a(o),E(($,u,_)=>{b(R,$),w(p,"href",u),b(H,_)},[()=>v()("people"),()=>A.people(),()=>v()("view_all")]),d(r,o)};T(j,r=>{e(L)&&r(ie)})}var W=s(j,2);{var se=r=>{var o=Te(),c=t(o),f=t(c),R=t(f,!0);a(f);var p=s(f,2),H=t(p,!0);a(p),a(c);var q=s(c,2);Z(q,{class:"grid grid-flow-col md:grid-auto-fill-36 grid-auto-fill-28 gap-x-4",children:(u,_)=>{let N=()=>_?.().itemCount;var P=X(),B=z(P);Y(B,17,()=>e(D).slice(0,N()),g=>g.data.id,(g,i)=>{var l=Oe(),x=t(l),S=t(x);a(x);var F=s(x,2),I=t(F,!0);a(F),a(l),E((G,m)=>{w(l,"href",G),w(S,"src",m),w(S,"alt",e(i).value),b(I,e(i).value)},[()=>A.search({city:e(i).value}),()=>je({id:e(i).data.id,size:pe.Thumbnail})]),d(g,l)}),d(u,P)},$$slots:{default:!0}}),a(o),E(($,u,_)=>{b(R,$),w(p,"href",u),b(H,_)},[()=>v()("places"),()=>A.places(),()=>v()("view_all")]),d(r,o)};T(W,r=>{e(D).length>0&&r(se)})}var oe=s(W,2);{var le=r=>{{let o=O(()=>v()("no_explore_results_message"));Pe(r,{get text(){return e(o)},class:"mt-10 mx-auto"})}};T(oe,r=>{!e(L)&&e(D).length===0&&r(le)})}d(y,M)},$$slots:{default:!0}}),d(C,Q),ge(),ee()}export{tt as component,et as universal};
